'use strict';var h,aa=aa||{},k=this,m=function(a){return void 0!==a},n=function(){},ba=function(a){a.fa=function(){return a.Ha?a.Ha:a.Ha=new a}},ca=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";
if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},da=function(a){return"array"==ca(a)},ea=function(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length},r=function(a){return"string"==typeof a},fa=function(a){return"number"==typeof a},ga=function(a){return"function"==ca(a)},ha=function(a){var b=
typeof a;return"object"==b&&null!=a||"function"==b},ia="closure_uid_"+(1E9*Math.random()>>>0),ja=0,ka=function(a,b,c){return a.call.apply(a.bind,arguments)},la=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},ma=function(a,b,c){ma=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?
ka:la;return ma.apply(null,arguments)},na=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},oa=Date.now||function(){return+new Date},t=function(a,b){a=a.split(".");var c=k;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&m(b)?c[d]=b:c[d]?c=c[d]:c=c[d]={}},u=function(a,b){function c(){}c.prototype=b.prototype;a.I=b.prototype;a.prototype=new c;a.prototype.constructor=
a;a.Eb=function(a,c,f){for(var g=Array(arguments.length-2),l=2;l<arguments.length;l++)g[l-2]=arguments[l];return b.prototype[c].apply(a,g)}};var pa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},qa=function(a,b){a=String(a).toLowerCase();b=String(b).toLowerCase();return a<b?-1:a==b?0:1},ra=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^oa()).toString(36)},ta=function(a,b){var c=0;a=pa(String(a)).split(".");b=pa(String(b)).split(".");for(var d=Math.max(a.length,b.length),e=0;0==c&&e<d;e++){var f=a[e]||"",g=b[e]||
"",l=/(\d*)(\D*)/g,p=/(\d*)(\D*)/g;do{var q=l.exec(f)||["","",""],C=p.exec(g)||["","",""];if(0==q[0].length&&0==C[0].length)break;c=sa(0==q[1].length?0:parseInt(q[1],10),0==C[1].length?0:parseInt(C[1],10))||sa(0==q[2].length,0==C[2].length)||sa(q[2],C[2])}while(0==c)}return c},sa=function(a,b){return a<b?-1:a>b?1:0};var v=function(a){this.type=a};t("castApp.protocol.Message",v);var ua=function(a){this.type=a;this.requestId=ra()};u(ua,v);t("castApp.protocol.Request",ua);var w=function(a,b){this.type=a;this.responseTo=b.requestId};u(w,v);t("castApp.protocol.Response",w);var va=function(a,b){w.call(this,"Error",a);this.errorName=b||"err-unknown"};u(va,w);t("castApp.protocol.Error",va);var wa=function(){};t("castApp.protocol.Handshake",wa);var xa=function(){ua.call(this,"Handshake.Request");this.coreVersion=5};
u(xa,ua);wa.Request=xa;var ya=function(a){w.call(this,"Handshake.Response",a);this.version=5;this.latestVersion=void 0};u(ya,w);wa.Response=ya;var za=function(a,b){w.call(this,"Handshake.UiVersionNotSupported",a);this.latestVersion=b};u(za,w);wa.UiVersionNotSupported=za;var Aa=function(a){this.type="SetSimpleState";this.state=a};u(Aa,v);t("castApp.protocol.SetSimpleState",Aa);var Ba=function(){};t("castApp.protocol.ModalDialog",Ba);
var Ca=function(a){ua.call(this,"ModalDialog.Request");this.dialogId=a};u(Ca,ua);Ba.Request=Ca;var Da=function(a,b){w.call(this,"ModalDialog.Response",a);this.button=b};u(Da,w);Ba.Response=Da;var Ea=function(){};t("castApp.protocol.DeviceDiscovery",Ea);var Fa=function(a){this.type="DeviceDiscovery.ShowScanner";this.showTips=a};u(Fa,v);Ea.ShowScanner=Fa;var Ga=function(){};t("castApp.protocol.SetupStart",Ga);
var Ha=function(a,b,c){this.type="SetupStart.ShowDevice";this.state=a;this.deviceType=b;this.deviceName=c;this.analyticsOptIn=this.otherDevicesExist=!1};u(Ha,v);Ga.ShowDevice=Ha;var Ia=function(a){this.type="SetupStart.TosAccepted";this.analyticsOptIn=a};u(Ia,v);Ga.TosAccepted=Ia;var Ja=function(){};t("castApp.protocol.WiFiSwitching",Ja);var Ka=function(a,b,c){this.type="WiFiSwitching.ConnectHotSpot";this.state=a;this.deviceName=b;this.ssid=c};u(Ka,v);Ja.ConnectHotSpot=Ka;
var La=function(a,b){this.type="WiFiSwitching.ReconnectWiFi";this.state=a;this.ssid=b};u(La,v);Ja.ReconnectWiFi=La;var Ma=function(){};t("castApp.protocol.CodeConfirmation",Ma);var Na=function(a){ua.call(this,"CodeConfirmation.Request");this.code=a};u(Na,ua);Ma.Request=Na;var Oa=function(a,b){w.call(this,"CodeConfirmation.Response",a);this.confirmed=b};u(Oa,w);Ma.Response=Oa;var Pa=function(){};t("castApp.protocol.AudioConfirmation",Pa);
var Qa=function(a){this.type="AudioConfirmation.PromptUser";this.state=a};u(Qa,v);Pa.PromptUser=Qa;var Ra=function(a){this.type="AudioConfirmation.UserAction";this.action=a};u(Ra,v);Pa.UserAction=Ra;var Sa=function(){};t("castApp.protocol.DeviceConfig",Sa);var Ta=function(a,b){ua.call(this,"DeviceConfig.Request");this.name=a;this.country=b};u(Ta,ua);Sa.Request=Ta;var Ua=function(a,b,c){w.call(this,"DeviceConfig.Response",a);this.name=b;this.country=c};u(Ua,w);Sa.Response=Ua;var Va=function(){};
t("castApp.protocol.WiFiConfig",Va);var Wa=function(a,b,c){this.id=a;this.ssid=b;this.security=c};Va.Network=Wa;var Xa=function(a,b,c){this.type="WiFiConfig.Show";this.state=a;this.networks=b;this.selectedNetwork=c};u(Xa,v);Va.Show=Xa;var Ya=function(a){this.type="WiFiConfig.UpdateNetworks";this.networks=a};u(Ya,v);Va.UpdateNetworks=Ya;var Za=function(a,b){this.type="WiFiConfig.Connect";this.network=a;this.password=b};u(Za,v);Va.Connect=Za;
var $a=function(a){this.type="WiFiConfig.Retry";this.network=a};u($a,v);Va.Retry=$a;var ab=function(){};t("castApp.protocol.Features",ab);var bb=function(){this.supportsDisplay=this.supportsSetup=!1};ab.Device=bb;var cb=function(){};t("castApp.protocol.Devices",cb);var db=function(a,b,c){this.id=a;this.type=b;this.displayName=c};cb.DeviceProperties=db;var eb=function(a,b){this.type="Devices.Show";this.devices=a;this.deviceName=b};u(eb,v);cb.Show=eb;
var fb=function(a,b){this.type="Devices.UserAction";this.device=a;this.action=b};u(fb,v);cb.UserAction=fb;var gb=function(){};t("castApp.protocol.DeviceSettings",gb);var hb=function(a,b){this.localeId=a;this.displayString=b};gb.Locale=hb;var ib=function(a,b,c){this.timeZoneId=a;this.displayString=b;this.offset=c};gb.TimeZone=ib;
var jb=function(a,b){this.type="DeviceSettings.Show";this.state=a;this.deviceType=b.deviceType;this.name=b.name;this.ssid=b.ssid;this.timeZoneId=b.timeZoneId;this.supportedTimeZones=b.supportedTimeZones;this.timeFormat=b.timeFormat;this.localeId=b.localeId;this.supportedLocales=b.supportedLocales;this.statsOptIn=b.statsOptIn;this.firmwareVersion=b.firmwareVersion;this.countryCode=b.countryCode;this.macAddress=b.macAddress;this.ipAddress=b.ipAddress};u(jb,v);gb.Show=jb;
var kb=function(a){this.type="DeviceSettings.Apply";this.name=a.name;this.timeZoneId=a.timeZoneId;this.timeFormat=a.timeFormat;this.localeId=a.localeId;this.statsOptIn=a.statsOptIn};u(kb,v);gb.Apply=kb;var lb=function(){};t("castApp.protocol.DetectCountry",lb);var mb=function(){ua.call(this,"DetectCountry.Request")};u(mb,ua);lb.Request=mb;var nb=function(a,b){w.call(this,"DetectCountry.Response",a);this.countryCode=b};u(nb,w);lb.Response=nb;var ob=function(){};t("castApp.protocol.Offers",ob);
var pb=function(){this.type="Offers.Scan";this.scanId=ra()};u(pb,v);ob.Scan=pb;var qb=function(a,b,c,d){this.token=a;this.displayName=b;this.deviceType=c;this.ssdpUdn=d};ob.Device=qb;var rb=function(a,b,c){this.type="Offers.ScanResults";this.scanId=a;this.devices=b;this.scanComplete=c};u(rb,v);ob.ScanResults=rb;var sb=function(a){this.type="Offers.Redeem";this.url=a};u(sb,v);ob.Redeem=sb;var tb=function(a,b){this.type="Offers.AnalyticsEvent";this.eventType=a;this.offerId=b};u(tb,v);
ob.AnalyticsEvent=tb;var x=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};u(x,Error);x.prototype.name="CustomError";var ub=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(r(a))return r(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},vb=Array.prototype.lastIndexOf?function(a,b,c){return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(r(a))return r(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=
c;c--)if(c in a&&a[c]===b)return c;return-1},wb=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},xb=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=r(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},yb=function(a,b){a:{for(var c=a.length,d=r(a)?a.split(""):a,e=0;e<c;e++)if(e in
d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:r(a)?a.charAt(b):a[b]},zb=function(a){if(!da(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},Bb=function(a,b){b=ub(a,b);var c;(c=0<=b)&&Ab(a,b);return c},Ab=function(a,b){Array.prototype.splice.call(a,b,1)},Cb=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},Db=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},Eb=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=
a[d];return c}return[]},Fb=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(ea(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}},Hb=function(a,b,c,d){Array.prototype.splice.apply(a,Gb(arguments,1))},Gb=function(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)},Jb=function(a,b){a.sort(b||Ib)},Ib=function(a,b){return a>b?1:a<b?-1:0};var Kb=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},Lb=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Mb=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},y=function(a,b,c){b in a||(a[b]=c)},Nb=function(a){var b={},c;for(c in a)b[c]=a[c];return b},Ob="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Pb=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ob.length;f++)c=
Ob[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Qb;a:{var Rb=k.navigator;if(Rb){var Sb=Rb.userAgent;if(Sb){Qb=Sb;break a}}Qb=""}var z=function(a){return-1!=Qb.indexOf(a)};var Tb=function(){return(z("Chrome")||z("CriOS"))&&!z("Edge")};var Ub="StopIteration"in k?k.StopIteration:{message:"StopIteration",stack:""},Vb=function(){};Vb.prototype.next=function(){throw Ub;};Vb.prototype.P=function(){return this};
var Wb=function(a){if(a instanceof Vb)return a;if("function"==typeof a.P)return a.P(!1);if(ea(a)){var b=0,c=new Vb;c.next=function(){for(;;){if(b>=a.length)throw Ub;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");},Xb=function(a,b){if(ea(a))try{wb(a,b,void 0)}catch(c){if(c!==Ub)throw c;}else{a=Wb(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==Ub)throw c;}}},Yb=function(a,b){var c=null;Xb(a,function(a){c=b.call(void 0,c,a)});return c},Zb=function(a,b){a=Wb(a);
try{for(;;)if(!b.call(void 0,a.next(),void 0,a))return!1}catch(c){if(c!==Ub)throw c;}return!0};var A=function(a,b){this.b={};this.a=[];this.f=this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof A?(c=a.D(),d=a.v()):(c=Mb(a),d=Lb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}};A.prototype.u=function(){return this.c};A.prototype.v=function(){$b(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};A.prototype.D=function(){$b(this);return this.a.concat()};
var bc=function(a,b){return ac(a.b,b)};A.prototype.H=function(){return 0==this.c};A.prototype.clear=function(){this.b={};this.f=this.c=this.a.length=0};A.prototype.remove=function(a){return ac(this.b,a)?(delete this.b[a],this.c--,this.f++,this.a.length>2*this.c&&$b(this),!0):!1};
var $b=function(a){if(a.c!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];ac(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.c!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],ac(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}};h=A.prototype;h.get=function(a,b){return ac(this.b,a)?this.b[a]:b};h.set=function(a,b){ac(this.b,a)||(this.c++,this.a.push(a),this.f++);this.b[a]=b};h.forEach=function(a,b){for(var c=this.D(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new A(this)};
h.P=function(a){$b(this);var b=0,c=this.f,d=this,e=new Vb;e.next=function(){if(c!=d.f)throw Error("The map has changed since the iterator was created");if(b>=d.a.length)throw Ub;var e=d.a[b++];return a?e:d.b[e]};return e};var ac=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var cc=function(a){if(a.v&&"function"==typeof a.v)return a.v();if(r(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Lb(a)},dc=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(ea(a)||r(a))wb(a,b,void 0);else{var c;if(a.D&&"function"==typeof a.D)c=a.D();else if(a.v&&"function"==typeof a.v)c=void 0;else if(ea(a)||r(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=Mb(a);for(var d=cc(a),e=d.length,f=0;f<e;f++)b.call(void 0,
d[f],c&&c[f],a)}};var B=function(a){this.a=new A;if(a){a=cc(a);for(var b=a.length,c=0;c<b;c++)ec(this,a[c])}},fc=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[ia]||(a[ia]=++ja)):b.substr(0,1)+a};B.prototype.u=function(){return this.a.u()};var ec=function(a,b){a.a.set(fc(b),b)};h=B.prototype;h.removeAll=function(a){a=cc(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};h.remove=function(a){return this.a.remove(fc(a))};h.clear=function(){this.a.clear()};h.H=function(){return this.a.H()};
h.contains=function(a){return bc(this.a,fc(a))};var gc=function(a,b){a=a.clone();a.removeAll(b);return a};B.prototype.v=function(){return this.a.v()};B.prototype.clone=function(){return new B(this)};B.prototype.P=function(){return this.a.P(!1)};var hc=function(){return z("iPhone")&&!z("iPod")&&!z("iPad")};var ic=z("Opera"),D=z("Trident")||z("MSIE"),jc=z("Edge"),kc=z("Gecko")&&!(-1!=Qb.toLowerCase().indexOf("webkit")&&!z("Edge"))&&!(z("Trident")||z("MSIE"))&&!z("Edge"),lc=-1!=Qb.toLowerCase().indexOf("webkit")&&!z("Edge"),mc=z("Linux")||z("CrOS"),nc=function(){var a=k.document;return a?a.documentMode:void 0},oc;
a:{var pc="",qc=function(){var a=Qb;if(kc)return/rv\:([^\);]+)(\)|;)/.exec(a);if(jc)return/Edge\/([\d\.]+)/.exec(a);if(D)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(lc)return/WebKit\/(\S+)/.exec(a);if(ic)return/(?:Version)[ \/]?(\S+)/.exec(a)}();qc&&(pc=qc?qc[1]:"");if(D){var rc=nc();if(null!=rc&&rc>parseFloat(pc)){oc=String(rc);break a}}oc=pc}var sc=oc,tc={},uc=function(a){return tc[a]||(tc[a]=0<=ta(sc,a))},vc=k.document,wc=vc&&D?nc()||("CSS1Compat"==vc.compatMode?parseInt(sc,10):5):void 0;var xc=function(a,b){this.b=[];this.a=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.b[d]=e,c=!1)}},yc={},zc=function(a){if(-128<=a&&128>a){var b=yc[a];if(b)return b}b=new xc([a|0],0>a?-1:0);-128<=a&&128>a&&(yc[a]=b);return b},Bc=function(a){if(isNaN(a)||!isFinite(a))return Ac;if(0>a)return E(Bc(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=4294967296;return new xc(b,0)},Cc=function(a,b){if(0==a.length)throw Error("number format error: empty string");b=b||10;if(2>b||36<b)throw Error("radix out of range: "+
b);if("-"==a.charAt(0))return E(Cc(a.substring(1),b));if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character');for(var c=Bc(Math.pow(b,8)),d=Ac,e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),g=parseInt(a.substring(e,e+f),b);8>f?(f=Bc(Math.pow(b,f)),d=Dc(Ec(d,f),Bc(g))):(d=Ec(d,c),d=Dc(d,Bc(g)))}return d},Ac=zc(0),Fc=zc(1),Gc=zc(16777216),Hc=function(a){if(-1==a.a)return-Hc(E(a));for(var b=0,c=1,d=0;d<a.b.length;d++)b+=Ic(a,d)*c,c*=4294967296;return b};
xc.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(Jc(this))return"0";if(-1==this.a)return"-"+E(this).toString(a);for(var b=Bc(Math.pow(a,6)),c=this,d="";;){var e=Kc(c,b),c=Lc(c,Ec(e,b)),f=((0<c.b.length?c.b[0]:c.a)>>>0).toString(a),c=e;if(Jc(c))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};
var F=function(a,b){return 0>b?0:b<a.b.length?a.b[b]:a.a},Ic=function(a,b){a=F(a,b);return 0<=a?a:4294967296+a},Jc=function(a){if(0!=a.a)return!1;for(var b=0;b<a.b.length;b++)if(0!=a.b[b])return!1;return!0},Mc=function(a,b){a=Lc(a,b);return-1==a.a?-1:Jc(a)?0:1},E=function(a){for(var b=a.b.length,c=[],d=0;d<b;d++)c[d]=~a.b[d];a=new xc(c,~a.a);return Dc(a,Fc)},Dc=function(a,b){for(var c=Math.max(a.b.length,b.b.length),d=[],e=0,f=0;f<=c;f++){var g=e+(F(a,f)&65535)+(F(b,f)&65535),l=(g>>>16)+(F(a,f)>>>
16)+(F(b,f)>>>16),e=l>>>16,g=g&65535,l=l&65535;d[f]=l<<16|g}return new xc(d,d[d.length-1]&-2147483648?-1:0)},Lc=function(a,b){return Dc(a,E(b))},Ec=function(a,b){if(Jc(a)||Jc(b))return Ac;if(-1==a.a)return-1==b.a?Ec(E(a),E(b)):E(Ec(E(a),b));if(-1==b.a)return E(Ec(a,E(b)));if(0>Mc(a,Gc)&&0>Mc(b,Gc))return Bc(Hc(a)*Hc(b));for(var c=a.b.length+b.b.length,d=[],e=0;e<2*c;e++)d[e]=0;for(e=0;e<a.b.length;e++)for(var f=0;f<b.b.length;f++){var g=F(a,e)>>>16,l=F(a,e)&65535,p=F(b,f)>>>16,q=F(b,f)&65535;d[2*
e+2*f]+=l*q;Nc(d,2*e+2*f);d[2*e+2*f+1]+=g*q;Nc(d,2*e+2*f+1);d[2*e+2*f+1]+=l*p;Nc(d,2*e+2*f+1);d[2*e+2*f+2]+=g*p;Nc(d,2*e+2*f+2)}for(e=0;e<c;e++)d[e]=d[2*e+1]<<16|d[2*e];for(e=c;e<2*c;e++)d[e]=0;return new xc(d,0)},Nc=function(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535},Kc=function(a,b){if(Jc(b))throw Error("division by zero");if(Jc(a))return Ac;if(-1==a.a)return-1==b.a?Kc(E(a),E(b)):E(Kc(E(a),b));if(-1==b.a)return E(Kc(a,E(b)));if(30<a.b.length){if(-1==a.a||-1==b.a)throw Error("slowDivide_ only works with positive integers.");
for(var c=Fc;0>=Mc(b,a);)c=Oc(c,1),b=Oc(b,1);var d=Pc(c,1),e=Pc(b,1),f;b=Pc(b,2);for(c=Pc(c,2);!Jc(b);)f=Dc(e,b),0>=Mc(f,a)&&(d=Dc(d,c),e=f),b=Pc(b,1),c=Pc(c,1);return d}for(c=Ac;0<=Mc(a,b);){d=Math.max(1,Math.floor(Hc(a)/Hc(b)));e=Math.ceil(Math.log(d)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);f=Bc(d);for(var g=Ec(f,b);-1==g.a||0<Mc(g,a);)d-=e,f=Bc(d),g=Ec(f,b);Jc(f)&&(f=Fc);c=Dc(c,f);a=Lc(a,g)}return c},Qc=function(a,b){for(var c=Math.max(a.b.length,b.b.length),d=[],e=0;e<c;e++)d[e]=F(a,e)|F(b,e);return new xc(d,
a.a|b.a)},Oc=function(a,b){var c=b>>5;b%=32;for(var d=a.b.length+c+(0<b?1:0),e=[],f=0;f<d;f++)e[f]=0<b?F(a,f-c)<<b|F(a,f-c-1)>>>32-b:F(a,f-c);return new xc(e,a.a)},Pc=function(a,b){var c=b>>5;b%=32;for(var d=a.b.length-c,e=[],f=0;f<d;f++)e[f]=0<b?F(a,f+c)>>>b|F(a,f+c+1)<<32-b:F(a,f+c);return new xc(e,a.a)};var Rc=function(a){this.b=a},Uc=function(a){try{return-1!=a.indexOf(":")?new Sc(a):new Tc(a)}catch(b){return null}},Tc=function(a){var b=Ac;if(a instanceof xc){if(0!=a.a||0>Mc(a,Ac)||0<Mc(a,Vc))throw Error("The address does not look like an IPv4.");b=Nb(a)}else{if(!Wc.test(a))throw Error(a+" does not look like an IPv4 address.");var c=a.split(".");if(4!=c.length)throw Error(a+" does not look like an IPv4 address.");for(var d=0;d<c.length;d++){var e;e=c[d];var f=Number(e);e=0==f&&/^[\s\xa0]*$/.test(e)?
NaN:f;if(isNaN(e)||0>e||255<e||1!=c[d].length&&0==c[d].lastIndexOf("0",0))throw Error("In "+a+", octet "+d+" is not valid");e=Bc(e);b=Qc(Oc(b,8),e)}}this.b=b};u(Tc,Rc);var Wc=/^[0-9.]*$/,Vc=Lc(Oc(Fc,32),Fc);Tc.prototype.toString=function(){if(this.a)return this.a;for(var a=Ic(this.b,0),b=[],c=3;0<=c;c--)b[c]=String(a&255),a>>>=8;return this.a=b.join(".")};
var Sc=function(a){var b=Ac;if(a instanceof xc){if(0!=a.a||0>Mc(a,Ac)||0<Mc(a,Xc))throw Error("The address does not look like a valid IPv6.");b=Nb(a)}else{if(!Yc.test(a))throw Error(a+" is not a valid IPv6 address.");var c=a.split(":");if(-1!=c[c.length-1].indexOf(".")){a=Ic(Nb((new Tc(c[c.length-1])).b),0);var d=[];d.push((a>>>16&65535).toString(16));d.push((a&65535).toString(16));Ab(c,c.length-1);Fb(c,d);a=c.join(":")}d=a.split("::");if(2<d.length||1==d.length&&8!=c.length)throw Error(a+" is not a valid IPv6 address.");
if(1<d.length){c=d[0].split(":");d=d[1].split(":");1==c.length&&""==c[0]&&(c=[]);1==d.length&&""==d[0]&&(d=[]);var e=8-(c.length+d.length);if(1>e)c=[];else{for(var f=[],g=0;g<e;g++)f[g]="0";c=Db(c,f,d)}}if(8!=c.length)throw Error(a+" is not a valid IPv6 address");for(d=0;d<c.length;d++){e=Cc(c[d],16);if(0>Mc(e,Ac)||0<Mc(e,Zc))throw Error(c[d]+" in "+a+" is not a valid hextet.");b=Qc(Oc(b,16),e)}}this.b=b};u(Sc,Rc);var Yc=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/,Zc=zc(65535),Xc=Lc(Oc(Fc,128),Fc);
Sc.prototype.toString=function(){if(this.a)return this.a;for(var a=[],b=3;0<=b;b--){var c=Ic(this.b,b),d=c&65535;a.push((c>>>16).toString(16));a.push(d.toString(16))}for(var c=b=-1,e=d=0,f=0;f<a.length;f++)"0"==a[f]?(e++,-1==c&&(c=f),e>d&&(d=e,b=c)):(c=-1,e=0);0<d&&(b+d==a.length&&a.push(""),a.splice(b,d,""),0==b&&(a=[""].concat(a)));return this.a=a.join(":")};var $c=function(a,b,c){this.g=c;this.c=a;this.f=b;this.b=0;this.a=null};$c.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};var ad=function(a,b){a.f(b);a.b<a.g&&(a.b++,b.next=a.a,a.a=b)};var bd=function(a){k.setTimeout(function(){throw a;},0)},cd,dd=function(){var a=k.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!z("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,
a=ma(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!z("Trident")&&!z("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(m(c.next)){c=c.next;var a=c.Aa;c.Aa=null;a()}};return function(a){d.next={Aa:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?
function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){k.setTimeout(a,0)}};var ed=function(){this.b=this.a=null},gd=new $c(function(){return new fd},function(a){a.reset()},100);ed.prototype.remove=function(){var a=null;this.a&&(a=this.a,this.a=this.a.next,this.a||(this.b=null),a.next=null);return a};var fd=function(){this.next=this.b=this.a=null};fd.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};fd.prototype.reset=function(){this.next=this.b=this.a=null};var ld=function(a,b){hd||id();jd||(hd(),jd=!0);var c=kd,d=gd.get();d.set(a,b);c.b?c.b.next=d:c.a=d;c.b=d},hd,id=function(){if(k.Promise&&k.Promise.resolve){var a=k.Promise.resolve(void 0);hd=function(){a.then(md)}}else hd=function(){var a=md;!ga(k.setImmediate)||k.Window&&k.Window.prototype&&!z("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(cd||(cd=dd()),cd(a)):k.setImmediate(a)}},jd=!1,kd=new ed,md=function(){for(var a;a=kd.remove();){try{a.a.call(a.b)}catch(b){bd(b)}ad(gd,a)}jd=!1};var G=function(a,b){this.a=0;this.i=void 0;this.f=this.b=this.c=null;this.g=this.h=!1;if(a!=n)try{var c=this;a.call(b,function(a){nd(c,2,a)},function(a){nd(c,3,a)})}catch(d){nd(this,3,d)}},od=function(){this.next=this.context=this.b=this.f=this.a=null;this.c=!1};od.prototype.reset=function(){this.context=this.b=this.f=this.a=null;this.c=!1};
var pd=new $c(function(){return new od},function(a){a.reset()},100),qd=function(a,b,c){var d=pd.get();d.f=a;d.b=b;d.context=c;return d},H=function(a){if(a instanceof G)return a;var b=new G(n);nd(b,2,a);return b},I=function(a){return new G(function(b,c){c(a)})},sd=function(a,b,c){rd(a,b,c,null)||ld(na(b,a))},td=function(a){return new G(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},l=0,p;l<a.length;l++)p=a[l],sd(p,na(f,l),g);else b(e)})},J=
function(){var a,b,c=new G(function(c,e){a=c;b=e});return new ud(c,a,b)};G.prototype.then=function(a,b,c){return vd(this,ga(a)?a:null,ga(b)?b:null,c)};G.prototype.then=G.prototype.then;G.prototype.$goog_Thenable=!0;var K=function(a,b){b=qd(b,b,void 0);b.c=!0;wd(a,b);return a},L=function(a,b,c){return vd(a,null,b,c)};G.prototype.cancel=function(a){0==this.a&&ld(function(){var b=new M(a);xd(this,b)},this)};
var xd=function(a,b){if(0==a.a)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.c||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.a&&1==d?xd(c,b):(f?(d=f,d.next==c.f&&(c.f=d),d.next=d.next.next):yd(c),zd(c,e,3,b)))}a.c=null}else nd(a,3,b)},wd=function(a,b){a.b||2!=a.a&&3!=a.a||Ad(a);a.f?a.f.next=b:a.b=b;a.f=b},vd=function(a,b,c,d){var e=qd(null,null,null);e.a=new G(function(a,g){e.f=b?function(c){try{var e=b.call(d,c);a(e)}catch(q){g(q)}}:a;e.b=c?function(b){try{var e=c.call(d,
b);!m(e)&&b instanceof M?g(b):a(e)}catch(q){g(q)}}:g});e.a.c=a;wd(a,e);return e.a};G.prototype.l=function(a){this.a=0;nd(this,2,a)};G.prototype.m=function(a){this.a=0;nd(this,3,a)};
var nd=function(a,b,c){0==a.a&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.a=1,rd(c,a.l,a.m,a)||(a.i=c,a.a=b,a.c=null,Ad(a),3!=b||c instanceof M||Bd(a,c)))},rd=function(a,b,c,d){if(a instanceof G)return wd(a,qd(b||n,c||null,d)),!0;var e;if(a)try{e=!!a.$goog_Thenable}catch(g){e=!1}else e=!1;if(e)return a.then(b,c,d),!0;if(ha(a))try{var f=a.then;if(ga(f))return Cd(a,f,b,c,d),!0}catch(g){return c.call(d,g),!0}return!1},Cd=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,
a))},l=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,l)}catch(p){l(p)}},Ad=function(a){a.h||(a.h=!0,ld(a.j,a))},yd=function(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.f=null);return b};G.prototype.j=function(){for(var a;a=yd(this);)zd(this,a,this.a,this.i);this.h=!1};
var zd=function(a,b,c,d){if(3==c&&b.b&&!b.c)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,Dd(b,c,d);else try{b.c?b.f.call(b.context):Dd(b,c,d)}catch(e){Ed.call(null,e)}ad(pd,b)},Dd=function(a,b,c){2==b?a.f.call(a.context,c):a.b&&a.b.call(a.context,c)},Bd=function(a,b){a.g=!0;ld(function(){a.g&&Ed.call(null,b)})},Ed=bd,M=function(a){x.call(this,a)};u(M,x);M.prototype.name="cancel";var ud=function(a,b,c){this.a=a;this.b=b;this.c=c};var Fd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Gd=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e,f=null;0<=d?(e=a[c].substring(0,d),f=a[c].substring(d+1)):e=a[c];b(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}};var Hd=function(a,b){this.a=this.j=this.f="";this.h=null;this.g=this.c="";this.b=!1;var c;a instanceof Hd?(this.b=m(b)?b:a.b,Id(this,a.f),this.j=a.j,this.a=a.a,Jd(this,a.h),this.c=a.c,Kd(this,a.i.clone()),this.g=a.g):a&&(c=String(a).match(Fd))?(this.b=!!b,Id(this,c[1]||"",!0),this.j=Ld(c[2]||""),this.a=Ld(c[3]||"",!0),Jd(this,c[4]),this.c=Ld(c[5]||"",!0),Kd(this,c[6]||"",!0),this.g=Ld(c[7]||"")):(this.b=!!b,this.i=new Md(null,0,this.b))};
Hd.prototype.toString=function(){var a=[],b=this.f;b&&a.push(Nd(b,Od,!0),":");var c=this.a;if(c||"file"==b)a.push("//"),(b=this.j)&&a.push(Nd(b,Od,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.h,null!=c&&a.push(":",String(c));if(c=this.c)this.a&&"/"!=c.charAt(0)&&a.push("/"),a.push(Nd(c,"/"==c.charAt(0)?Pd:Qd,!0));(c=this.i.toString())&&a.push("?",c);(c=this.g)&&a.push("#",Nd(c,Rd));return a.join("")};Hd.prototype.clone=function(){return new Hd(this)};
var Id=function(a,b,c){a.f=c?Ld(b,!0):b;a.f&&(a.f=a.f.replace(/:$/,""))},Jd=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.h=b}else a.h=null},Kd=function(a,b,c){b instanceof Md?(a.i=b,Sd(a.i,a.b)):(c||(b=Nd(b,Td)),a.i=new Md(b,0,a.b))},Ud=function(a){return a instanceof Hd?a.clone():new Hd(a,void 0)},Ld=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},Nd=function(a,b,c){return r(a)?(a=encodeURI(a).replace(b,Vd),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,
"%$1")),a):null},Vd=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Od=/[#\/\?@]/g,Qd=/[\#\?:]/g,Pd=/[\#\?]/g,Td=/[\#\?@]/g,Rd=/#/g,Md=function(a,b,c){this.b=this.a=null;this.c=a||null;this.f=!!c},Wd=function(a){a.a||(a.a=new A,a.b=0,a.c&&Gd(a.c,function(b,c){b=decodeURIComponent(b.replace(/\+/g," "));Wd(a);a.c=null;b=Xd(a,b);var d=a.a.get(b);d||a.a.set(b,d=[]);d.push(c);a.b+=1}))};Md.prototype.u=function(){Wd(this);return this.b};
Md.prototype.remove=function(a){Wd(this);a=Xd(this,a);return bc(this.a,a)?(this.c=null,this.b-=this.a.get(a).length,this.a.remove(a)):!1};Md.prototype.clear=function(){this.a=this.c=null;this.b=0};Md.prototype.H=function(){Wd(this);return 0==this.b};var Yd=function(a,b){Wd(a);b=Xd(a,b);return bc(a.a,b)};h=Md.prototype;h.D=function(){Wd(this);for(var a=this.a.v(),b=this.a.D(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
h.v=function(a){Wd(this);var b=[];if(r(a))Yd(this,a)&&(b=Cb(b,this.a.get(Xd(this,a))));else{a=this.a.v();for(var c=0;c<a.length;c++)b=Cb(b,a[c])}return b};h.set=function(a,b){Wd(this);this.c=null;a=Xd(this,a);Yd(this,a)&&(this.b-=this.a.get(a).length);this.a.set(a,[b]);this.b+=1;return this};h.get=function(a,b){a=a?this.v(a):[];return 0<a.length?String(a[0]):b};
h.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.D(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.v(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.c=a.join("&")};h.clone=function(){var a=new Md;a.c=this.c;this.a&&(a.a=this.a.clone(),a.b=this.b);return a};
var Xd=function(a,b){b=String(b);a.f&&(b=b.toLowerCase());return b},Sd=function(a,b){b&&!a.f&&(Wd(a),a.c=null,a.a.forEach(function(a,b){var e=b.toLowerCase();b!=e&&(this.remove(b),this.remove(e),0<a.length&&(this.c=null,this.a.set(Xd(this,e),Eb(a)),this.b+=a.length))},a));a.f=b};t("castApp.core.setupApi.ConfiguredNetworkMsg",function(a,b,c,d){this.ssid=a;this.wpa_auth=b;this.wpa_cipher=c;this.wpa_id=d});var Zd=function(a,b){this.ssid=a;this.wpa_auth=b};t("castApp.core.setupApi.ConnectWiFiMsg",Zd);var $d=function(a,b,c,d,e,f,g,l,p,q,C){this.version=a;this.name=b;this.build_version=c;this.has_update=d;this.ssdp_udn=e;this.mac_address=f;this.connected=g;this.ssid=l;this.wpa_state=p;this.setup_state=q;this.wpa_configured=C};t("castApp.core.setupApi.EurekaInfoMsg34Base",$d);
var ae=function(a,b,c,d,e,f,g,l,p,q){$d.call(this,3,a,b,c,d,e,f,g,l,p,q)};u(ae,$d);t("castApp.core.setupApi.EurekaInfoMsgV3",ae);ae.Location=function(a,b){this.latitude=a;this.longitude=b};var be=function(a,b,c){this.certificate=a;this.nonce=b;this.signed_data=c};ae.Sign=be;var ce=function(){};ae.Detail=ce;ce.Timezone=function(a,b){this.display_string=a;this.offset=b};ce.Locale=function(a){this.display_string=a};
var de=function(a,b,c,d,e,f,g,l,p,q,C,wj){$d.call(this,a,b,c,d,e,f,g,l,p,q,C);this.uptime=wj};u(de,$d);t("castApp.core.setupApi.EurekaInfoMsgV4",de);
var ee=function(a){y(a,"locale","en-US");y(a,"debug_build",!1);y(a,"update_only_build",!1);y(a,"ethernet_connected",!1);y(a,"tos_accepted",!0);y(a,"time_format",0);y(a,"hdmi_control",!0);r(a.hotspot_bssid)||a.mac_address&&5<=a.mac_address.length&&(a.hotspot_bssid="00:1A:11:FF:"+a.mac_address.substr(a.mac_address.length-5));if(a.opt_in){var b=a.opt_in;y(b,"crash",!0);y(b,"stats",!0);y(b,"device_id",!1);y(b,"location",!1);y(b,"opencast",!1)}return a};de.SetupStats=function(){};var fe=function(){};
de.Location=fe;var ge=function(){};de.OptIn=ge;var he=function(a,b,c){be.call(this,a,b,c)};u(he,be);de.Sign=he;var ie=function(a){this.manufacturer="Google Inc.";this.model_name="Eureka Dongle";this.icon_list=a};u(ie,ce);de.Detail=ie;ie.Icon=function(a,b,c,d){this.mimetype="image/png";this.width=a;this.height=b;this.depth=c;this.url=d};var je=function(){};t("castApp.core.setupApi.EurekaInfoMsgV7",je);je.BuildInfo=function(){};var ke=function(){};je.DeviceInfo=ke;ke.Capabilities=function(){};
je.OtaStatus=function(){};je.Net=function(){};je.WiFi=function(){};var le=function(){};je.Setup=le;le.Stats=function(){};var me=function(){};je.Settings=me;var ne=function(){};je.OptIn=ne;je.OpenCast=function(){};je.Multizone=function(){};var oe=function(a){this.wpa_id=a};t("castApp.core.setupApi.ForgetWiFiMsg",oe);t("castApp.core.setupApi.GetAppDeviceIdRequestMsg",function(a){this.app_id=a});
t("castApp.core.setupApi.GetAppDeviceIdResponseMsg",function(a,b,c){this.app_device_id=a;this.certificate=b;this.signed_data=c});t("castApp.core.setupApi.OfferMsg",function(a){this.token=a});var pe=function(a){this.sound_id=a};t("castApp.core.setupApi.PlaySoundRequestMsg",pe);t("castApp.core.setupApi.PlaySoundResponseMsg",function(a,b){this.volume=a;this.duration=b});var qe=function(a){this.params=a};t("castApp.core.setupApi.RebootMsg",qe);
var re=function(a,b,c,d,e){this.ssid=a;this.wpa_auth=b;this.wpa_cipher=c;this.bssid=d;this.signal_level=e};t("castApp.core.setupApi.ScanResultMsgBase",re);var se=function(a,b,c,d,e,f){re.call(this,a,b,c,d,e);this.ap_list=f};u(se,re);t("castApp.core.setupApi.ScanResultMsgV7",se);se.Ap=function(a,b,c){this.bssid=a;this.signal_level=b;this.frequency=c};var te=function(){};t("castApp.core.setupApi.SaveWiFiRequestMsg",te);t("castApp.core.setupApi.SaveWiFiResponseMsg",function(a){this.setup_state=a});
t("castApp.core.setupApi.SendLogReportRequestMsg",function(a){this.uuid=a});t("castApp.core.setupApi.SendLogReportResponseMsg",function(a){this.crash_report_id=a});var ue=function(){};t("castApp.core.setupApi.SetEurekaInfoMsgBase",ue);var ve=function(){};u(ve,ue);t("castApp.core.setupApi.SetEurekaInfoMsgV3",ve);var we=function(){};u(we,ue);t("castApp.core.setupApi.SetEurekaInfoMsgV4",we);var xe=function(){};u(xe,ue);t("castApp.core.setupApi.SetEurekaInfoMsgV7",xe);
t("castApp.core.setupApi.SupportedLocale",function(a,b){this.locale=a;this.display_string=b});t("castApp.core.setupApi.SupportedTimeZone",function(a,b,c){this.timezone=a;this.display_string=b;this.offset=c});var ye=function(a){this.id=a};t("castApp.core.storage.SetupSession",ye);var ze=function(){};t("castApp.core.storage.CommonSetupState",ze);var Ae=function(a){this.type=a.type;this.name=a.name;this.bssid=a.bssid;this.ssid=a.ssid;this.ipAddress=a.ipAddress};t("castApp.core.storage.DeviceToSetUp",Ae);var Be=function(a){this.deviceIpAddress=a};t("castApp.core.storage.SetupApiClientState",Be);var Ce=function(a){this.a=a};t("castApp.core.storage.ConnectWiFiState",Ce);
t("castApp.core.storage.EurekaInfoState",function(a,b,c,d,e,f,g,l){this.setupApiVersion=a;this.name=b;this.setupState=c;this.ssdpUdn=d;this.deviceType=e;this.features=f;this.ethernetConnected=g;this.tosAccepted=l});var De=function(a,b){this.timeStamp=a;this.verificationProperties=b};t("castApp.core.storage.VerificationState",De);var N=function(a){this.type=a};t("castApp.core.storage.SetupState",N);var Ee=function(a,b){this.all=b;this.current=a};t("castApp.core.storage.SetupStateCollection",Ee);
var Fe=function(a,b,c){this.type=a;this.time=b;this.deviceId=c},Ge=function(a){for(var b=[],c=0,d=a.length;c<d;++c){var e=a.key(c);if(e&&0==e.lastIndexOf("setupSession_",0)){var f;a:{var g=a,l=g.getItem(e);if(l)try{f=JSON.parse(l);break a}catch(p){g.removeItem(e)}f=null}f&&b.push(f)}}return b},He=function(){var a=oa()-432E5;Ge(window.localStorage).forEach(function(b){(!b.timestamp||b.timestamp<a)&&window.localStorage.removeItem("setupSession_"+b.id)})},Ie=function(a,b){b.timestamp=oa();a.setItem("setupSession_"+
b.id,JSON.stringify(b))},Je=function(a,b){a.removeItem("setupSession_"+b.id)},Ke=function(a){var b=a.getItem("setupDeviceState");if(b)try{return JSON.parse(b)}catch(c){a.removeItem("setupDeviceState")}return[]},Le=function(a,b){0===b.length?a.removeItem("setupDeviceState"):a.setItem("setupDeviceState",JSON.stringify(b))},Me=function(a){return"false"===a.getItem("setupAutoNetworkSwitching")?!1:!0},Ne=function(a,b){1===b?a.removeItem("castApp.analyticsOptIn"):a.setItem("castApp.analyticsOptIn",b.toString())};var Oe=function(){},Pe=function(){};u(Pe,Oe);Pe.prototype.b=function(){};Pe.prototype.f=function(){};Pe.prototype.a=function(){return H(3)};Pe.prototype.h=function(){};var Qe=function(a){this.g=chrome.metricsPrivate;this.c=a};u(Qe,Oe);Qe.prototype.b=function(a){this.g.recordUserAction("Cast.Chrome.App."+a.toString())};
Qe.prototype.f=function(a){var b;switch(a.eventType){case 1:b="List";break;case 2:b="View";break;case 3:b="Redeem";break;default:return}b="Cast.Chrome.App.Offers."+b;if(m(a.offerId)){if(!fa(a.offerId)||0>a.offerId)return;b+="."+a.offerId}this.g.recordUserAction(b)};Qe.prototype.a=function(){var a=parseInt(this.c.getItem("castApp.analyticsOptIn"),10);if(isNaN(a)||1>a||3<a)a=1;return H(a)};Qe.prototype.h=function(a){a?(Ne(this.c,2),this.b(1)):(Ne(this.c,3),this.b(2))};var Re=function(){this.g=this.g;this.o=this.o};Re.prototype.g=!1;Re.prototype.ea=function(){this.g||(this.g=!0,this.F())};Re.prototype.F=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var O=function(a,b){this.type=a;this.b=this.target=b;this.Ja=!0};O.prototype.c=function(){this.Ja=!1};var Se=function(a){Se[" "](a);return a};Se[" "]=n;var Te=!D||9<=Number(wc),Ue=D&&!uc("9");!lc||uc("528");kc&&uc("1.9b")||D&&uc("8")||ic&&uc("9.5")||lc&&uc("528");kc&&!uc("8")||D&&uc("9");var Ve=function(a,b){O.call(this,a?a.type:"");this.b=this.target=null;this.button=0;this.a=this.state=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.b=b;if((b=a.relatedTarget)&&kc)try{Se(b.nodeName)}catch(c){}this.button=a.button;this.state=a.state;this.a=a;a.defaultPrevented&&this.c()}};u(Ve,O);
Ve.prototype.c=function(){Ve.I.c.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ue)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var We="closure_listenable_"+(1E6*Math.random()|0),Xe=function(a){return!(!a||!a[We])},Ye=0;var Ze=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.ja=e;this.key=++Ye;this.removed=this.da=!1},$e=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.ja=null};var af=function(a){this.src=a;this.a={};this.b=0},cf=function(a,b,c,d,e,f){var g=b.toString();b=a.a[g];b||(b=a.a[g]=[],a.b++);var l=bf(b,c,e,f);-1<l?(a=b[l],d||(a.da=!1)):(a=new Ze(c,a.src,g,!!e,f),a.da=d,b.push(a));return a};af.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.a))return!1;var e=this.a[a];b=bf(e,b,c,d);return-1<b?($e(e[b]),Ab(e,b),0==e.length&&(delete this.a[a],this.b--),!0):!1};
var df=function(a,b){var c=b.type;c in a.a&&Bb(a.a[c],b)&&($e(b),0==a.a[c].length&&(delete a.a[c],a.b--))};af.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.a)if(!a||c==a){for(var d=this.a[c],e=0;e<d.length;e++)++b,$e(d[e]);delete this.a[c];this.b--}return b};var ef=function(a,b,c,d,e){a=a.a[b.toString()];b=-1;a&&(b=bf(a,c,d,e));return-1<b?a[b]:null},bf=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.ja==d)return e}return-1};var ff="closure_lm_"+(1E6*Math.random()|0),gf={},hf=0,jf=function(a,b,c,d,e){if(da(b)){for(var f=0;f<b.length;f++)jf(a,b[f],c,d,e);return null}c=kf(c);return Xe(a)?a.listen(b,c,d,e):lf(a,b,c,!1,d,e)},lf=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,l=mf(a);l||(a[ff]=l=new af(a));c=cf(l,b,c,d,e,f);if(c.proxy)return c;d=nf();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(of(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");
hf++;return c},nf=function(){var a=pf,b=Te?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},qf=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)qf(a,b[f],c,d,e);else c=kf(c),Xe(a)?cf(a.b,String(b),c,!0,d,e):lf(a,b,c,!0,d,e)},rf=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)rf(a,b[f],c,d,e);else c=kf(c),Xe(a)?a.B(b,c,d,e):a&&(a=mf(a))&&(b=ef(a,b,c,!!d,e))&&sf(b)},sf=function(a){if(fa(a)||!a||a.removed)return;var b=a.src;
if(Xe(b)){df(b.b,a);return}var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(of(c),d);hf--;(c=mf(b))?(df(c,a),0==c.b&&(c.src=null,b[ff]=null)):$e(a)},of=function(a){return a in gf?gf[a]:gf[a]="on"+a},uf=function(a,b,c,d){var e=!0;if(a=mf(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=tf(f,d),e=e&&!1!==f)}return e},tf=function(a,b){var c=a.listener,d=a.ja||a.src;a.da&&sf(a);return c.call(d,
b)},pf=function(a,b){if(a.removed)return!0;if(!Te){if(!b)a:{b=["window","event"];for(var c=k,d;d=b.shift();)if(null!=c[d])c=c[d];else{b=null;break a}b=c}d=b;b=new Ve(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.b;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;0<=e;e--){b.b=d[e];var f=uf(d[e],a,!0,b),c=c&&f}for(e=0;e<d.length;e++)b.b=d[e],f=uf(d[e],a,!1,b),c=
c&&f}return c}return tf(a,new Ve(b,this))},mf=function(a){a=a[ff];return a instanceof af?a:null},vf="__closure_events_fn_"+(1E9*Math.random()>>>0),kf=function(a){if(ga(a))return a;a[vf]||(a[vf]=function(b){return a.handleEvent(b)});return a[vf]};var P=function(){Re.call(this);this.b=new af(this);this.Pa=this;this.M=null};u(P,Re);P.prototype[We]=!0;var wf=function(a,b){jf(a,"originViolation",b,void 0,void 0)};P.prototype.removeEventListener=function(a,b,c,d){rf(this,a,b,c,d)};
var Q=function(a,b){var c,d=a.M;if(d)for(c=[];d;d=d.M)c.push(d);a=a.Pa;d=b.type||b;if(r(b))b=new O(b,a);else if(b instanceof O)b.target=b.target||a;else{var e=b;b=new O(d,a);Pb(b,e)}var e=!0,f;if(c)for(var g=c.length-1;0<=g;g--)f=b.b=c[g],e=xf(f,d,!0,b)&&e;f=b.b=a;e=xf(f,d,!0,b)&&e;e=xf(f,d,!1,b)&&e;if(c)for(g=0;g<c.length;g++)f=b.b=c[g],e=xf(f,d,!1,b)&&e};P.prototype.F=function(){P.I.F.call(this);this.b&&this.b.removeAll(void 0);this.M=null};
P.prototype.listen=function(a,b,c,d){return cf(this.b,String(a),b,!1,c,d)};P.prototype.B=function(a,b,c,d){return this.b.remove(String(a),b,c,d)};var xf=function(a,b,c,d){b=a.b.a[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.capture==c){var l=g.listener,p=g.ja||g.src;g.da&&df(a.b,g);e=!1!==l.call(p,d)&&e}}return e&&0!=d.Ja};var yf=function(){x.call(this)};u(yf,x);yf.prototype.name="httpTimeout";var zf=function(a,b){var c=J(),d=function(a){c.b(a)};a.listen(b,d);return K(c.a,function(){a.B(b,d)})},Af=function(a){if(a instanceof M)throw a;},Bf=function(a,b){var c=setTimeout(function(){a.cancel()},b);K(a,function(){clearTimeout(c);c=null});return a},Cf=function(){var a=J();Bf(a.a,2E3);return a};!kc&&!D||D&&9<=Number(wc)||kc&&uc("1.9.1");var Df=D&&!uc("9");var Ef={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Ff={IMG:" ",BR:"\n"},Hf=function(a){if(Df&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Gf(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Df||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a},Gf=function(a,b,c){if(!(a.nodeName in Ef))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in
Ff)b.push(Ff[a.nodeName]);else for(a=a.firstChild;a;)Gf(a,b,c),a=a.nextSibling};var If=function(){if(!D)return!1;try{return new ActiveXObject("MSXML2.DOMDocument"),!0}catch(a){return!1}},Jf=D&&If();var Kf=function(a){x.call(this,a)};u(Kf,x);Kf.prototype.name="chrome.runtime.lastError";var Lf=function(a,b){this.onNetworksChanged=a;this.onNetworkListChanged=b};t("castApp.core.NetworkingPrivateApi.WiFiProperties",function(){});t("castApp.core.NetworkingPrivateApi.NetworkProperties",function(){});var Mf=[[0xfa8fca000000,0xfa8fcaffffff],[111971074048,111971139583]],Nf=["Chromecast","Chromecast Audio","Chromekey","Eureka Dongle"],Of=new function(a){this.map=new A;this.a=new A;for(var b=a.length,c=0;c<b;++c)this.map.set(a[c],a[c+1]),this.a.set(a[c+1],a[c])}(["a",4,"b",2,"c",3,"d",5,"e",6,"f",1,"g",7,"h",8,"i",9,"j",10,"k",11,"l",12,"m",13]),Pf=new B(["b","c","a","m"]),Qf=new B("adghjkl".split("")),Rf=function(a){if(!/^([0-9a-fA-F]{2}:){5}[0-9a-fA-F]{2}$/.test(a))return NaN;var b=parseInt,c=RegExp,
d;d=":".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08");c=new c(d,"g");a=a.replace(c,"");return b(a,16)},Sf=function(a,b){return!(!a||!b||0!==qa(a,b))},Tf=function(a){var b=Rf(a);return!!yb(Mf,function(a){return b>=a[0]&&b<=a[1]})},Vf=function(a){return!a.WiFi||!a.WiFi.BSSID||a.WiFi.Security&&"None"!==a.WiFi.Security||!Tf(a.WiFi.BSSID)?!1:Pf.contains(Uf(a.WiFi.SSID||"").type)},Uf=function(a){var b=/^(.*)\.([^\.]*)$/.exec(a),c=null;return b&&3===b.length&&(c=Wf(b[2]))?{name:b[1],
type:c.type,subtype:c.subtype}:{name:a,type:"c",subtype:null}},Wf=function(a){a=/^([a-m])(\d{0,3})$/.exec(a);if(!a||3!==a.length)return null;var b=parseInt(a[2],10);return{type:a[1],subtype:isNaN(b)?null:b}},Xf=function(a,b){var c=new bb;c.supportsSetup=Pf.contains(a);c.supportsDisplay=!Qf.contains(a);b&&(void 0!==b.display_supported&&(c.supportsDisplay=!!b.display_supported),!1===b.setup_supported&&(c.supportsSetup=!1));return c},Yf=function(a){var b;if("undefined"!=typeof DOMParser)b=(new DOMParser).parseFromString(a,
"application/xml");else if(Jf){b=new ActiveXObject("MSXML2.DOMDocument");b.resolveExternals=!1;b.validateOnParse=!1;try{b.setProperty("ProhibitDTD",!0),b.setProperty("MaxXMLSize",2048),b.setProperty("MaxElementDepth",256)}catch(e){}b.loadXML(a)}else throw Error("Your browser does not support loading xml documents");if(!b)return null;var c=b.querySelector("root > device > manufacturer");a=b.querySelector("root > device > modelName");if(!c||!a)return null;c=Hf(c);a=Hf(a);a="Google Inc."==c&&0<=ub(Nf,
a);var d=b.querySelector("root > URLBase"),c=b.querySelector("root > device > friendlyName");b=b.querySelector("root > device > UDN");if(!d||!c||!b)return null;d=Hf(d);d=Ud(d).a;c=Hf(c);b=Hf(b);return{name:c,ipAddress:d,udn:b,yb:a}},Zf=function(a){return Of.map.get(a)||3},$f=function(a){switch(a){case 2:case 3:case 4:return 3;case 5:case 6:return 4;case 7:case 8:return 5}return 2},ag=function(a){switch(a){case 2:return 1;case 3:return 2;case 4:return 5;case 5:return 7}return 0},bg=function(a){switch(a){case chrome.cast.media.PlayerState.PLAYING:return 2;
case chrome.cast.media.PlayerState.PAUSED:return 3;case chrome.cast.media.PlayerState.BUFFERING:return 4}return 1},cg=function(a){switch(a){case chrome.cast.SessionStatus.CONNECTED:return 1;case chrome.cast.SessionStatus.STOPPED:return 3}return 2},dg=function(a){var b=2;1===a.b?b=3:2===a.b&&(b=4);b=new Xa(b,[],null);b.selectedNetwork=new Wa(a.c||null,a.a.ssid,$f(a.a.wpa_auth));a.c&&b.networks.push(b.selectedNetwork);return b},eg=function(a,b,c){switch(a){case 3:return c=new ve,c.name=b,c;case 4:case 5:case 6:return a=
new we,a.name=b,a.opt_in=new ge,a.opt_in.crash=a.opt_in.stats=c,a;default:return a=new xe,a.name=b,a.opt_in=new ne,a.opt_in.stats=c,a}},fg=function(a){return"E8C28D3C"==a||"00000000-0000-0000-0000-000000000000"==a};var gg=function(){},ig=function(){this.b={};this.a={};hg||(hg=new G(function(a,b){window.__onGCastApiAvailable=function(c){c?a():b()}.bind(this);var c=document.createElement("script");c.setAttribute("src",chrome.extension.getURL("cast_sender.js"));document.head.appendChild(c)}.bind(this)))};u(ig,gg);
var hg=null,jg=function(a,b,c){return hg.then(function(){var a=b+c,e=this.b[a];if(e)return e.a;e=Cf();this.b[a]=e;var f=this.a[a];f||(f=new chrome.cast.SessionRequest(b),f=new chrome.cast.ApiConfig(f,this.c.bind(this),n,chrome.cast.AutoJoinPolicy.CUSTOM_CONTROLLER_SCOPED),f.invisibleSender=!fg(b),f=chrome.cast.initializeWithContext(f,n,function(){}.bind(this)),this.a[a]=f);chrome.cast.requestSessionByIdWithContext(f,c);return e.a}.bind(a))};
ig.prototype.c=function(a){var b=a.appId+a.sessionId,c=this.b[b];c&&c.b({session:a,context:this.a[b]})};var kg=function(){Lf.call(this,chrome.networkingPrivate.onNetworksChanged,chrome.networkingPrivate.onNetworkListChanged)};u(kg,Lf);ba(kg);var lg=function(a){return chrome.runtime.lastError?(a.c(new Kf(chrome.runtime.lastError.message)),!0):!1};h=kg.prototype;h.getNetworks=function(a){var b=J();chrome.networkingPrivate.getNetworks(a,function(a){lg(b)||b.b(a)});return b.a};h.getProperties=function(a){var b=J();chrome.networkingPrivate.getProperties(a,function(a){lg(b)||b.b(a)});return b.a};
h.requestNetworkScan=function(){chrome.networkingPrivate.requestNetworkScan()};h.startConnect=function(a){var b=J();chrome.networkingPrivate.startConnect(a,function(){lg(b)||b.b()});return b.a};h.startDisconnect=function(a){var b=J();chrome.networkingPrivate.startDisconnect(a,function(){lg(b)||b.b()});return b.a};h.verifyDestination=function(a){var b=J();chrome.networkingPrivate.verifyDestination(a,function(a){lg(b)||b.b(a)});return b.a};
h.verifyAndEncryptData=function(a,b){var c=J();chrome.networkingPrivate.verifyAndEncryptData(a,b,function(a){lg(c)||c.b(a)});return c.a};var mg=function(){this.a=new B},ng=function(a,b){ec(a.a,b);return K(b,function(){this.a.remove(b)}.bind(a))},og=function(a){if(a.a.H())return H();var b=a.a;a.a=new B;return new G(function(a){Xb(b,function(d){K(d,function(){b.remove(d)&&b.H()&&a()});d.cancel()})})};var R=function(a,b){this.h=a;this.g=b;this.f=new mg;this.c=new P;this.a="stopped"};R.prototype.getState=function(){return this.a};R.prototype.b=function(a){a!==this.a&&(this.a=a,Q(this.c,a))};R.prototype.start=function(){switch(this.a){case "stopped":case "stopping":return this.restart();case "starting":case "stoppingStartPending":return pg(this);case "started":return H();default:return H()}};
R.prototype.restart=function(){switch(this.a){case "starting":case "started":this.b("stoppingStartPending");qg(this);break;case "stopping":this.b("stoppingStartPending");break;case "stopped":this.b("starting"),rg(this)}return pg(this)};var pg=function(a){var b=new mg;return K(L(new G(function(a,d){ng(b,zf(this.c,"started")).then(function(){a()});ng(b,zf(this.c,"stopped")).then(function(){d()})}.bind(a)),function(a){a instanceof M&&this.stop();throw a;},a),function(){og(b)})};
R.prototype.stop=function(){if("stopped"===this.a)return H();var a=this.a;this.b("stopping");"starting"!==a&&"started"!==a||qg(this);return zf(this.c,"stopped")};
var S=function(a,b){if("starting"===a.a||"started"===a.a)return ng(a.f,b),b;b.cancel();return I(new M)},sg=function(a){return"started"===a.a?H():zf(a.c,"started")},qg=function(a){og(a.f).then(function(){try{if(this.g)return this.g()}catch(a){}}.bind(a)).then(function(){"stoppingStartPending"===this.a?(this.b("starting"),rg(this)):this.b("stopped")}.bind(a))},rg=function(a){var b=null;try{b=a.h()}catch(c){b=I(c)}"starting"!==a.a?b.cancel():L(ng(a.f,b).then(a.b.bind(a,"started")),function(){this.stop()}.bind(a))};var tg=function(){this.a={};this.b={};this.c=new B};tg.prototype.sendMessage=function(a){a.responseTo?this.c.contains(a.responseTo)&&(this.c.remove(a.responseTo),ug(this,a)):ug(this,a)};tg.prototype.sendRequest=function(a,b){var c=J();this.a[a.requestId]={N:c,La:b?setTimeout(ma(this.h,this,a.requestId),b):null};ug(this,a);return c.a};tg.prototype.h=function(a){a in this.a&&(this.a[a].N.a.cancel(),delete this.a[a])};
tg.prototype.addListener=function(a,b){var c=this.b[a];c||(c=this.b[a]=new B);ec(c,b)};var vg=function(a,b){var c=J(),d=ma(function(a){c.b(a)},a);a.addListener(b,d);return K(c.a,function(){this.removeListener(b,d)}.bind(a))};tg.prototype.removeListener=function(a,b){(a=this.b[a])&&a.remove(b)};
var wg=function(a,b){if(b.requestId)ec(a.c,b.requestId);else if(b.responseTo){var c=a.a[b.responseTo];c&&(delete a.a[b.responseTo],null!==c.La&&clearTimeout(c.La),b instanceof va?c.N.c(b):c.N.b(b))}var d=a.b[b.type];d&&d.v().forEach(function(a){d.contains(a)&&a(b)})};var xg=function(a,b,c,d){tg.call(this);this.f="object"===typeof b?b:null;this.i="function"===typeof b?b:null;this.g=c;this.l=d||n;a.addEventListener("message",this.j.bind(this))};u(xg,tg);xg.prototype.j=function(a){a.origin===this.g?wg(this,a.data):this.l()};var ug=function(a,b){a.f=a.f||a.i();a.f.postMessage(b,a.g)};var yg=!1;var zg=function(a,b,c,d){this.f=new P;this.h=new R(c,d);this.c=a;this.C=b+"/v5";this.A=b;this.g=[]},Ag=function(){O.call(this,"redirect")};u(Ag,O);zg.prototype.start=function(){return this.h.start().then(this.o.bind(this))};zg.prototype.stop=function(){return this.h.stop()};zg.prototype.j=function(a){0<=ub(this.g,a)||this.g.push(a)};
var Bg=function(a){var b=a.localStorage.getItem("castApp.uiOrigin")||"https://castappui.google.com";zg.call(this,a,b,this.m.bind(this),this.l.bind(this));this.a=this.b=null;this.i=[["newwindow",this.w.bind(this)],["loadredirect",this.s.bind(this)]]};u(Bg,zg);var Cg=["exit","loadabort","unresponsive"];Bg.prototype.o=function(){return this.a};
var Dg=function(a){var b=setInterval(function(){document.activeElement===this.b?clearInterval(b):this.b.focus()}.bind(a),20);window.addEventListener("focus",a.b.focus.bind(a.b),!0)};
Bg.prototype.m=function(){var a=this,b=J(),c=b.c.bind(b),d=a.c.document.querySelector("#cast-app-ui");d||(d=a.c.document.createElement("webview"),d.setAttribute("id","cast-app-ui"),d.setAttribute("src",a.C));Cg.forEach(function(a){d.addEventListener(a,c)});var e=function(){var c=d.contentWindow;a.b=d;a.a=new xg(a.c,c,a.A,function(){Q(a.f,new O("originViolation"))});b.b();Dg(a)};d.addEventListener("contentload",e);K(b.a,function(){Cg.forEach(function(a){d.removeEventListener(a,c)});d.removeEventListener("contentload",
e)});a.i.forEach(function(a){d.addEventListener.apply(d,a)});d.parentElement||a.c.document.body.appendChild(d);a.b=d;return b.a};Bg.prototype.l=function(){this.a=null;if(this.b&&this.b.parentElement){var a=this.b;this.b=null;a.parentElement.removeChild(a);this.i.forEach(function(b){a.removeEventListener.apply(a,b)})}return H()};Bg.prototype.s=function(){Q(this.f,new Ag)};
Bg.prototype.w=function(a){var b=a.targetUrl,c=a.windowOpenDisposition,d=Ud(b),e=d.f,f=d.a,d="https"===e&&("www.google.com"===f||"support.google.com"===f||"chromecast.com"===f)||"http"===e&&Uc(f)&&8008===d.h&&"/setup/NOTICE.html.gz"===d.c;!d&&0<=ub(this.g,b)&&(d=!0);e="new_foreground_tab"===c;d&&(e||"new_background_tab"===c)&&chrome.tabs.create({url:b,active:e});a.window.discard()};var Eg=function(a,b,c,d,e,f,g,l,p,q,C){this.b=b;this.g=c;this.f=a.localStorage;this.l=d;this.c=e;this.m=p;this.j=f;this.reload=g;this.i=l;this.h=q;this.a=C};var Fg=function(a,b,c,d){this.c=a;this.f=b;this.a=this.b=a;this.g=c||0;this.h=d||2};Fg.prototype.reset=function(){this.a=this.b=this.c};var Gg=function(a){a.a=Math.min(a.f,a.a*a.h);a.b=Math.min(a.f,a.a+(a.g?Math.round(a.g*(Math.random()-.5)*2*a.a):0))};var Hg=function(a,b,c){if(ga(a))c&&(a=ma(a,c));else if(a&&"function"==typeof a.handleEvent)a=ma(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:k.setTimeout(a,b||0)},T=function(a){var b=null;return L(new G(function(c,d){b=Hg(function(){c(void 0)},a);-1==b&&d(Error("Failed to schedule timer."))}),function(a){k.clearTimeout(b);throw a;})};var Ig=function(a,b){this.type="cast_app";this.originId=window["castApp.eventPage.Message.OriginID"]||void 0;this.subtype=a;this.devices=b;this.deviceJustSetUp=void 0};t("castApp.eventPage.Message",Ig);Ig.DeviceData=function(a,b,c){this.ipAddress=a;this.appId=b;this.sessionId=c};var Jg=function(a,b,c,d){this.ipAddress=a;this.name=b;this.udn=c;this.modelName=d};Ig.DeviceJustSetUp=Jg;var Kg=function(){P.call(this)};u(Kg,P);var Lg=function(a){O.call(this,a.subtype);this.a=a};u(Lg,O);var Mg=function(){this.a=new Fg(100,6E4);this.c=null;P.call(this)};u(Mg,Kg);var Ng=null;
Mg.prototype.start=function(){if(!Ng){var a=this;chrome.runtime.onMessage.addListener(a.f.bind(a));Ng=L(K(new G(function(b,c){chrome.runtime.getBackgroundPage(function(){chrome.runtime.lastError?c(new Kf(chrome.runtime.lastError.message)):(window["castApp.eventPage.Message.OriginID"]=ra(),Og(a),zf(a,"serviceReady").then(b,c))})}),function(){clearTimeout(a.c)}),function(a){throw a;})}return Ng};var Og=function(a){Pg("serviceCheck");a.c=setTimeout(function(){Og(this)}.bind(a),a.a.b);Gg(a.a)};
Mg.prototype.sendMessage=function(a){return this.start().then(function(){Pg(a)}.bind(this))};var Pg=function(a){chrome.runtime.sendMessage(ha(a)?a:new Ig(a))},Qg=function(a){a.sendMessage("startDeviceMonitor")};Mg.prototype.f=function(a){"object"===typeof a&&"cast_app"===a.type&&Q(this,new Lg(a));return!1};var Rg=function(a){return(a=a.match(/^\w{2,3}([-_]|$)/))?a[0].replace(/[_-]/g,""):""},Sg=function(a){return(a=a.match(/[-_]([a-zA-Z]{2}|\d{3})([-_]|$)/))?a[0].replace(/[_-]/g,""):""};var Tg=z("Firefox"),Ug=hc()||z("iPod"),Vg=z("iPad"),Wg=z("Android")&&!(Tb()||z("Firefox")||z("Opera")||z("Silk")),Xg=Tb(),Yg=z("Safari")&&!(Tb()||z("Coast")||z("Opera")||z("Edge")||z("Silk")||z("Android"))&&!(hc()||z("iPad")||z("iPod"));var Zg=function(a){return(a=a.exec(Qb))?a[1]:""},$g=function(){if(Tg)return Zg(/Firefox\/([0-9.]+)/);if(D||jc||ic)return sc;if(Xg)return Zg(/Chrome\/([0-9.]+)/);if(Yg&&!(hc()||z("iPad")||z("iPod")))return Zg(/Version\/([0-9.]+)/);if(Ug||Vg){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(Qb);if(a)return a[1]+"."+a[2]}else if(Wg)return(a=Zg(/Android\s+([0-9.]+)/))?a:Zg(/Version\/([0-9.]+)/);return""}();var ah=null,bh=null,dh=function(a){var b=[];ch(a,function(a){b.push(a)});return b},ch=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=bh[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c);}return b}eh();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),l=c(64);if(64===l&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=l&&b(g<<6&192|l))}},eh=function(){if(!ah){ah={};bh={};for(var a=0;65>a;a++)ah[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),
bh[ah[a]]=a,62<=a&&(bh["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};var fh=function(){this.b=-1};var gh=function(){this.b=64;this.a=[];this.h=[];this.i=[];this.f=[];this.f[0]=128;for(var a=1;a<this.b;++a)this.f[a]=0;this.g=this.c=0;this.reset()};u(gh,fh);gh.prototype.reset=function(){this.a[0]=1732584193;this.a[1]=4023233417;this.a[2]=2562383102;this.a[3]=271733878;this.a[4]=3285377520;this.g=this.c=0};
var hh=function(a,b,c){c||(c=0);var d=a.i;if(r(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.a[0];c=a.a[1];for(var g=a.a[2],l=a.a[3],p=a.a[4],q,e=0;80>e;e++)40>e?20>e?(f=l^c&(g^l),q=1518500249):(f=c^g^l,q=1859775393):60>e?(f=c&g|l&(c|g),q=2400959708):(f=c^g^l,q=3395469782),
f=(b<<5|b>>>27)+f+p+q+d[e]&4294967295,p=l,l=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.a[0]=a.a[0]+b&4294967295;a.a[1]=a.a[1]+c&4294967295;a.a[2]=a.a[2]+g&4294967295;a.a[3]=a.a[3]+l&4294967295;a.a[4]=a.a[4]+p&4294967295};
gh.prototype.update=function(a,b){if(null!=a){m(b)||(b=a.length);for(var c=b-this.b,d=0,e=this.h,f=this.c;d<b;){if(0==f)for(;d<=c;)hh(this,a,d),d+=this.b;if(r(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.b){hh(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.b){hh(this,e);f=0;break}}this.c=f;this.g+=b}};var ih=function(a,b){if(b+1>=a.length)return null;if(!(a[b+1]&128))return{length:a[b+1],qa:1};var c=a[b+1]&127;if(b+c+1>=a.length||2<c)return null;for(var d=0,e=2;e<=c+1;e++)d=d<<8|a[b+e];return{length:d,qa:c+1}},jh=function(a){var b=[{action:"step",code:48,optional:!1},{action:"step",code:48,optional:!1},{action:"skip",code:160,optional:!0},{action:"skip",code:2,optional:!1},{action:"skip",code:48,optional:!1},{action:"skip",code:48,optional:!1},{action:"skip",code:48,optional:!1},{action:"skip",
code:48,optional:!1},{action:"return",code:48,optional:!1}],c=0,d=-1;if(65535<a.length)return null;for(;b.length;){var e=b.shift();d++;if(a[c]!=e.code){if(e.optional)continue;break}var f=ih(a,c);if(!f)break;var g=c+f.length+f.qa;if(g>=a.length)break;switch(e.action){case "step":c+=f.qa+1;continue;case "skip":c=g+1;continue;case "return":return Gb(a,c,g+1);default:return null}}return null},kh=function(a){for(var b=a.length,c=0,d=0;d<b-1;d++)c+=a[d];c=(a[b-1]+16*c)%24;a=65+c;73<=a&&a++;79<=a&&a++;return String.fromCharCode(a)},
lh=function(a){return String.fromCharCode(50+a[a.length-1]%8)},mh=function(a,b){for(var c=[],d=0;4>d;d++)c[d]=a[b+d]^a[16+d];return c};var nh=function(a){this.a=a},oh=function(a,b,c,d){if(!a.f(d))return I();var e=a.b(d.bssid);if(!e||!a.c(c))return I();a=b.verifyDestination(e);L(a,function(){});return a.then(function(a){if(!a)return I();a=new De((new Date).getTime(),e);var b;var c=e.certificate.replace(/[\r\n]/g,""),c=c.replace("-----BEGIN CERTIFICATE-----",""),c=c.replace("-----END CERTIFICATE-----","");try{b=dh(c)}catch(d){b=null}if(b)if(c=jh(b)){b=new gh;b.update(c);var c=[],p=8*b.g;56>b.c?b.update(b.f,56-b.c):b.update(b.f,b.b-
(b.c-56));for(var q=b.b-1;56<=q;q--)b.h[q]=p&255,p/=256;hh(b,b.h);for(q=p=0;5>q;q++)for(var C=24;0<=C;C-=8)c[p]=b.a[q]>>C&255,++p;c?(b=[],b[0]=kh(mh(c,0)),b[1]=lh(mh(c,4)),b[2]=kh(mh(c,8)),b[3]=lh(mh(c,12))):b=null}else b=null;else b=null;if(!b)return I();a.pin=b;return a})},ph=function(a){this.a=a};u(ph,nh);ph.prototype.f=function(a){return a.ssid===this.a.name};ph.prototype.c=function(){return!0};
ph.prototype.b=function(a){var b=this.a,c={};if(!(b.public_key&&b.ssdp_udn&&b.name&&b.sign&&b.sign.certificate&&b.sign.nonce&&b.sign.signed_data))return null;c.certificate=b.sign.certificate;c.publicKey=b.public_key;c.nonce=b.sign.nonce;c.signedData=b.sign.signed_data;c.deviceSerial=b.ssdp_udn;c.deviceSsid=b.name;c.deviceBssid=a;return c};var qh=function(a){this.a=a};u(qh,nh);qh.prototype.f=function(a){var b=this.a.hotspot_bssid.toLowerCase();return a.ssid===this.a.name&&a.bssid.toLowerCase()===b};
qh.prototype.c=function(a){return!(!this.a.sign||this.a.sign.nonce!==a)};
qh.prototype.b=function(){var a=this.a,b={};if(!(a.public_key&&a.ssdp_udn&&a.name&&a.sign&&a.sign.certificate&&a.sign.nonce&&a.sign.signed_data&&a.hotspot_bssid))return null;b.certificate=a.sign.certificate;b.publicKey=a.public_key;b.nonce=a.sign.nonce;b.signedData=a.sign.signed_data;b.deviceSerial=a.ssdp_udn;b.deviceSsid=a.name;b.deviceBssid=a.hotspot_bssid;a.sign.intermediate_certs&&0<=ta($g,42)&&(b.intermediateCertificates=a.sign.intermediate_certs);return b};var rh=function(a){this.a=a};
u(rh,nh);rh.prototype.f=function(a){var b=this.a;if(!b.name||!b.device_info||!b.device_info.hotspot_bssid)return!1;var c=b.name;b.setup&&b.setup.ssid_suffix&&"c"!==b.setup.ssid_suffix&&(c+="."+b.setup.ssid_suffix);return a.ssid===c&&Sf(b.device_info.hotspot_bssid,a.bssid)};rh.prototype.c=function(a){return!(!this.a.sign||this.a.sign.nonce!==a)};
rh.prototype.b=function(){var a=this.a,b={};if(!(a.name&&a.device_info&&a.device_info.public_key&&a.device_info.ssdp_udn&&a.device_info.hotspot_bssid&&a.sign&&a.sign.certificate&&a.sign.nonce&&a.sign.signed_data))return null;b.certificate=a.sign.certificate;b.publicKey=a.device_info.public_key;b.nonce=a.sign.nonce;b.signedData=a.sign.signed_data;b.deviceSerial=a.device_info.ssdp_udn;b.deviceSsid=a.name;b.deviceBssid=a.device_info.hotspot_bssid;a.sign.intermediate_certs&&0<=ta($g,42)&&(b.intermediateCertificates=
a.sign.intermediate_certs);return b};var th=function(){this.a=sh},uh=function(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(da(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],uh(a,a.a?a.a.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),vh(d,c),c.push(":"),uh(a,a.a?a.a.call(b,d,e):e,c),f=","));
c.push("}");return}}switch(typeof b){case "string":vh(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}},wh={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},xh=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,vh=function(a,b){b.push('"',a.replace(xh,function(a){var b=
wh[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),wh[a]=b);return b}),'"')};var yh=function(){};yh.prototype.a=null;var Ah=function(a){var b;(b=a.a)||(b={},zh(a)&&(b[0]=!0,b[1]=!0),b=a.a=b);return b};var Bh,Ch=function(){};u(Ch,yh);var Dh=function(a){return(a=zh(a))?new ActiveXObject(a):new XMLHttpRequest},zh=function(a){if(!a.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.b=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.b};Bh=new Ch;var U=function(a){P.call(this);this.headers=new A;this.A=a||null;this.c=!1;this.w=this.a=null;this.K="";this.h=0;this.f=this.J=this.m=this.C=!1;this.l=0;this.s=null;this.j="";this.T=this.i=!1};u(U,P);var Eh=/^https?$/i,Fh=["POST","PUT"];U.prototype.Ea=function(){return this.j};U.prototype.Fa=function(){return this.i};
U.prototype.send=function(a,b,c,d){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.K+"; newUri="+a);b=b?b.toUpperCase():"GET";this.K=a;this.h=0;this.C=!1;this.c=!0;this.a=this.A?Dh(this.A):Dh(Bh);this.w=this.A?Ah(this.A):Ah(Bh);this.a.onreadystatechange=ma(this.wa,this);try{this.J=!0,this.a.open(b,String(a),!0),this.J=!1}catch(f){Gh(this);return}a=c||"";var e=this.headers.clone();d&&dc(d,function(a,b){e.set(b,a)});d=yb(e.D(),Hh);c=k.FormData&&a instanceof k.FormData;
!(0<=ub(Fh,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.a.setRequestHeader(b,a)},this);this.j&&(this.a.responseType=this.j);"withCredentials"in this.a&&this.a.withCredentials!==this.i&&(this.a.withCredentials=this.i);try{Ih(this),0<this.l&&((this.T=Jh(this.a))?(this.a.timeout=this.l,this.a.ontimeout=ma(this.aa,this)):this.s=Hg(this.aa,this.l,this)),this.m=!0,this.a.send(a),this.m=!1}catch(f){Gh(this)}};
var Jh=function(a){return D&&uc(9)&&fa(a.timeout)&&m(a.ontimeout)},Hh=function(a){return"content-type"==a.toLowerCase()};U.prototype.aa=function(){"undefined"!=typeof aa&&this.a&&(this.h=8,Q(this,"timeout"),this.abort(8))};var Gh=function(a){a.c=!1;a.a&&(a.f=!0,a.a.abort(),a.f=!1);a.h=5;Kh(a);Lh(a)},Kh=function(a){a.C||(a.C=!0,Q(a,"complete"),Q(a,"error"))};U.prototype.abort=function(a){this.a&&this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.h=a||7,Q(this,"complete"),Q(this,"abort"),Lh(this))};
U.prototype.F=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Lh(this,!0));U.I.F.call(this)};U.prototype.wa=function(){this.g||(this.J||this.m||this.f?Mh(this):this.Qa())};U.prototype.Qa=function(){Mh(this)};
var Mh=function(a){if(a.c&&"undefined"!=typeof aa&&(!a.w[1]||4!=Nh(a)||2!=a.getStatus()))if(a.m&&4==Nh(a))Hg(a.wa,0,a);else if(Q(a,"readystatechange"),4==Nh(a)){a.c=!1;try{Oh(a)?(Q(a,"complete"),Q(a,"success")):(a.h=6,a.getStatus(),Kh(a))}finally{Lh(a)}}},Lh=function(a,b){if(a.a){Ih(a);var c=a.a,d=a.w[0]?n:null;a.a=null;a.w=null;b||Q(a,"ready");try{c.onreadystatechange=d}catch(e){}}},Ih=function(a){a.a&&a.T&&(a.a.ontimeout=null);fa(a.s)&&(k.clearTimeout(a.s),a.s=null)},Oh=function(a){var b=a.getStatus(),
c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.K).match(Fd)[1]||null,!a&&k.self&&k.self.location&&(a=k.self.location.protocol,a=a.substr(0,a.length-1)),b=!Eh.test(a?a.toLowerCase():"");c=b}return c},Nh=function(a){return a.a?a.a.readyState:0};U.prototype.getStatus=function(){try{return 2<Nh(this)?this.a.status:-1}catch(a){return-1}};U.prototype.V=function(){try{return this.a?this.a.responseText:""}catch(a){return""}};
U.prototype.getResponseHeader=function(a){return this.a&&4==Nh(this)?this.a.getResponseHeader(a):void 0};var Ph=function(a){var b={};a=(a.a&&4==Nh(a)?a.a.getAllResponseHeaders():"").split("\r\n");for(var c=0;c<a.length;c++)if(!/^[\s\xa0]*$/.test(a[c])){var d;d=2;for(var e=a[c].split(": "),f=[];0<d&&e.length;)f.push(e.shift()),d--;e.length&&f.push(e.join(": "));d=f;b[d[0]]=b[d[0]]?b[d[0]]+(", "+d[1]):d[1]}return b};var Qh=function(a){Re.call(this);this.b=a;this.a={}};u(Qh,Re);var Rh=[];h=Qh.prototype;h.listen=function(a,b,c,d){da(b)||(b&&(Rh[0]=b.toString()),b=Rh);for(var e=0;e<b.length;e++){var f=jf(a,b[e],c||this.handleEvent,d||!1,this.b||this);if(!f)break;this.a[f.key]=f}return this};
h.B=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)this.B(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.b||this,c=kf(c),d=!!d,b=Xe(a)?ef(a.b,String(b),c,d,e):a?(a=mf(a))?ef(a,b,c,d,e):null:null,b&&(sf(b),delete this.a[b.key]);return this};h.removeAll=function(){Kb(this.a,function(a,b){this.a.hasOwnProperty(b)&&sf(a)},this);this.a={}};h.F=function(){Qh.I.F.call(this);this.removeAll()};h.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var Sh=function(){this.b=[];this.a=[]},Th=function(a){0==a.b.length&&(a.b=a.a,a.b.reverse(),a.a=[]);return a.b.pop()};h=Sh.prototype;h.u=function(){return this.b.length+this.a.length};h.H=function(){return 0==this.b.length&&0==this.a.length};h.clear=function(){this.b=[];this.a=[]};h.contains=function(a){return 0<=ub(this.b,a)||0<=ub(this.a,a)};h.remove=function(a){var b;b=this.b;var c=vb(b,a);0<=c?(Ab(b,c),b=!0):b=!1;return b||Bb(this.a,a)};
h.v=function(){for(var a=[],b=this.b.length-1;0<=b;--b)a.push(this.b[b]);for(var c=this.a.length,b=0;b<c;++b)a.push(this.a[b]);return a};var Uh=function(a,b){Re.call(this);this.j=a||0;this.c=b||10;if(this.j>this.c)throw Error("[goog.structs.Pool] Min can not be greater than max");this.a=new Sh;this.b=new B;this.i=null;this.ba()};u(Uh,Re);Uh.prototype.ga=function(){var a=oa();if(!(null!=this.i&&0>a-this.i)){for(var b;0<this.a.u()&&(b=Th(this.a),!this.sa(b));)this.ba();!b&&this.u()<this.c&&(b=this.h());b&&(this.i=a,ec(this.b,b));return b}};Uh.prototype.U=function(a){this.b.remove(a);this.sa(a)&&this.u()<this.c?this.a.a.push(a):Vh(a)};
Uh.prototype.ba=function(){for(var a=this.a;this.u()<this.j;){var b=this.h();a.a.push(b)}for(;this.u()>this.c&&0<this.a.u();)Vh(Th(a))};Uh.prototype.h=function(){return{}};var Vh=function(a){if("function"==typeof a.ea)a.ea();else for(var b in a)a[b]=null};h=Uh.prototype;h.sa=function(a){return"function"==typeof a.Sa?a.Sa():!0};h.contains=function(a){return this.a.contains(a)||this.b.contains(a)};h.u=function(){return this.a.u()+this.b.u()};h.H=function(){return this.a.H()&&this.b.H()};
h.F=function(){Uh.I.F.call(this);if(0<this.b.u())throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var a=this.a;!a.H();)Vh(Th(a));delete this.a};var Wh=function(a,b){this.a=a;this.b=b};Wh.prototype.clone=function(){return new Wh(this.a,this.b)};var Xh=function(a){this.a=[];if(a)a:{var b;if(a instanceof Xh){if(b=a.D(),a=a.v(),0>=this.u()){for(var c=this.a,d=0;d<b.length;d++)c.push(new Wh(b[d],a[d]));break a}}else b=Mb(a),a=Lb(a);for(d=0;d<b.length;d++)Yh(this,b[d],a[d])}},Yh=function(a,b,c){var d=a.a;d.push(new Wh(b,c));b=d.length-1;a=a.a;for(c=a[b];0<b;)if(d=b-1>>1,a[d].a>c.a)a[b]=a[d],b=d;else break;a[b]=c};h=Xh.prototype;
h.remove=function(){var a=this.a,b=a.length,c=a[0];if(!(0>=b)){if(1==b)zb(a);else{a[0]=a.pop();for(var a=0,b=this.a,d=b.length,e=b[a];a<d>>1;){var f=2*a+1,g=2*a+2,f=g<d&&b[g].a<b[f].a?g:f;if(b[f].a>e.a)break;b[a]=b[f];a=f}b[a]=e}return c.b}};h.v=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].b);return b};h.D=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].a);return b};h.clone=function(){return new Xh(this)};h.u=function(){return this.a.length};
h.H=function(){return 0==this.a.length};h.clear=function(){zb(this.a)};var Zh=function(){Xh.call(this)};u(Zh,Xh);var $h=function(a,b){this.f=new Zh;Uh.call(this,a,b)};u($h,Uh);h=$h.prototype;h.ga=function(a,b){if(!a)return $h.I.ga.call(this);Yh(this.f,m(b)?b:100,a);this.pa()};h.pa=function(){for(var a=this.f;0<a.u();){var b=this.ga();if(b)a.remove().apply(this,[b]);else break}};h.U=function(a){$h.I.U.call(this,a);this.pa()};h.ba=function(){$h.I.ba.call(this);this.pa()};h.F=function(){$h.I.F.call(this);k.clearTimeout(void 0);this.f.clear();this.f=null};var ai=function(a,b,c,d){this.l=a;this.m=!!d;$h.call(this,b,c)};u(ai,$h);ai.prototype.h=function(){var a=new U,b=this.l;b&&b.forEach(function(b,d){a.headers.set(d,b)});this.m&&(a.i=!0);return a};ai.prototype.sa=function(a){return!a.g&&!a.a};var bi=function(a,b,c,d,e,f){P.call(this);this.i=m(a)?a:1;this.h=m(e)?Math.max(0,e):0;this.c=new ai(b,c,d,f);this.a=new A;this.f=new Qh(this)};u(bi,P);var ci="ready complete success error abort timeout".split(" ");bi.prototype.send=function(a,b,c,d,e,f,g,l,p,q){if(this.a.get(a))throw Error("[goog.net.XhrManager] ID in use");b=new di(b,ma(this.l,this,a),c,d,e,g,m(l)?l:this.i,p,q);this.a.set(a,b);a=ma(this.j,this,a);this.c.ga(a,f);return b};
bi.prototype.abort=function(a,b){var c=this.a.get(a);if(c){var d=c.la;c.xa=!0;b&&(d&&(this.f.B(d,ci,c.va),qf(d,"ready",function(){var a=this.c;a.b.remove(d)&&a.U(d)},!1,this)),this.a.remove(a));d&&d.abort()}};bi.prototype.j=function(a,b){var c=this.a.get(a);c&&!c.la?(this.f.listen(b,ci,c.va),b.l=Math.max(0,this.h),b.j=c.Ea(),b.i=c.Fa(),c.la=b,Q(this,new ei("ready",this,a,b)),fi(this,a,b),c.xa&&b.abort()):(a=this.c,a.b.remove(b)&&a.U(b))};
bi.prototype.l=function(a,b){var c=b.target;switch(b.type){case "ready":fi(this,a,c);break;case "complete":a:{var d=this.a.get(a);if(7==c.h||Oh(c)||d.ca>d.oa)if(Q(this,new ei("complete",this,a,c)),d&&(d.Ca=!0,d.Ba)){a=d.Ba.call(c,b);break a}a=null}return a;case "success":Q(this,new ei("success",this,a,c));break;case "timeout":case "error":b=this.a.get(a);b.ca>b.oa&&Q(this,new ei("error",this,a,c));break;case "abort":Q(this,new ei("abort",this,a,c))}return null};
var fi=function(a,b,c){var d=a.a.get(b);!d||d.Ca||d.ca>d.oa?(d&&(a.f.B(c,ci,d.va),a.a.remove(b)),a=a.c,a.b.remove(c)&&a.U(c)):(d.ca++,c.send(d.lb,d.zb,d.jb,d.kb))};bi.prototype.F=function(){bi.I.F.call(this);this.c.ea();this.c=null;this.f.ea();this.f=null;this.a.clear();this.a=null};var ei=function(a,b,c,d){O.call(this,a,b);this.id=c;this.la=d};u(ei,O);
var di=function(a,b,c,d,e,f,g,l,p){this.lb=a;this.zb=c||"GET";this.jb=d;this.kb=e||null;this.oa=m(g)?g:1;this.ca=0;this.xa=this.Ca=!1;this.va=b;this.Ba=f;this.a=l||"";this.b=!!p;this.la=null};di.prototype.Fa=function(){return this.b};di.prototype.Ea=function(){return this.a};var gi=function(){},hi=function(){x.call(this)};u(hi,x);hi.prototype.name="httpStatus";var ii=function(){x.call(this)};u(ii,x);ii.prototype.name="httpResponseParsing";var ji=function(a,b){return a.request(b).then(function(a){if(!qa(a.getResponseHeader("content-type")||"","application/json"))try{return JSON.parse(a.V())}catch(b){}throw new ii;})},ki=function(){this.a=new A;this.b=0};u(ki,gi);var li=function(a){this.b=a.V();this.a={};Kb(Ph(a),function(a,c){this.a[c.toLowerCase()]=a},this)};
li.prototype.V=function(){return this.b};li.prototype.getResponseHeader=function(a){return this.a[a.toLowerCase()]||void 0};ki.prototype.request=function(a){var b=J(),c=a.timeout||1E4,d=this.a.get(c);d||(d=new bi,d.h=Math.max(0,c),this.a.set(c,d));c=a.method||"GET";d.send(this.b++,a.url,c,a.content,a.headers,0,function(a){a=a.target;Oh(a)?b.b(new li(a)):b.c(new hi(a.getStatus()))},a.G);return b.a};var mi=function(a,b,c){var d=b.read();this.a=d.eurekaInfoState&&d.eurekaInfoState.setupApiVersion||null;this.g=new Hd("http://"+d.deviceIpAddress+":8008");this.b=a;this.c=b;c?(a=Rg(c),c=(c=Sg(c))?"en"==a?a+"-"+c+", en;q=0.8":a+"-"+c+", "+a+";q=0.8, en;q=0.5":a+", en;q=0.5"):c=null;this.f=c},ni=function(a){var b=new Be(a);return{read:function(){return b},write:function(a){b=a}}},qi=function(a,b,c){var d=new mi(a,b,c);return d.a?H(d):oi(d,{options:pi()}).then(function(){return d})},si=function(a,b,
c,d,e){var f=new mi(a,b,e),g=b.read();if(g.eurekaInfoState&&g.eurekaInfoState.ethernetConnected)return H(f);if(g.verificationState){if(Sf(g.verificationState.verificationProperties.deviceBssid,d.bssid))return H(f);g=new Be(g.deviceIpAddress);b.write(g)}a={};var l=a.nonce=ra();a.options=pi().concat(["name","sign","device_info.public_key","device_info.hotspot_bssid"]);return oi(f,a).then(function(a){a:switch(a.version){case 3:a=oh(new ph(a),c,l,d);break a;case 4:case 5:case 6:a=oh(new qh(a),c,l,d);
break a;default:a=oh(new rh(a),c,l,d)}return a}).then(function(a){g=b.read();g.verificationState=a;b.write(g);return f},function(a){Af(a);if(a instanceof hi)throw a;throw new ri;})},ti=function(){x.call(this)};u(ti,x);ti.prototype.name="setupApiVersionError";var ri=function(){x.call(this)};u(ri,x);ri.prototype.name="deviceVerificationError";var pi=function(){return"version name setup.setup_state net.ethernet_connected net.ip_address device_info.ssdp_udn device_info.model_name device_info.capabilities setup.ssid_suffix setup.tos_accepted".split(" ")};
new B(["now","fdr","ota"]);mi.prototype.i=new B([3,4,5,6,7,8]);
mi.prototype.h=new A(3,function(a){y(a,"locale","en-US");return a},4,ee,5,ee,6,ee,7,function(a){if(a.device_info){var b=a.device_info;!b.hotspot_bssid&&b.mac_address&&(b.hotspot_bssid="00:1A:11:FF:"+b.mac_address.substr(b.mac_address.length-5));b.capabilities&&(b=b.capabilities,y(b,"display_supported",!0),y(b,"wifi_supported",!0),y(b,"wifi_regulatory_domain_locked",!1),y(b,"hotspot_supported",!0),y(b,"ble_supported",!1),y(b,"multizone_supported",!1))}a.net&&y(a.net,"ethernet_connected",!1);a.setup&&
y(a.setup,"tos_accepted",!0);a.settings&&(b=a.settings,y(b,"time_format",1),y(b,"locale","en-US"));return a});mi.prototype.getState=function(){return this.c.read()};
var ui=function(a){return a.c.read().eurekaInfoState},wi=function(a,b){return a.b.request({url:vi(a,"/setup/connect_wifi"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(b),G:0})},oi=function(a,b){var c=a.g.clone();c.c="/setup/eureka_info";if(b){var d=[];if(b.options){var e=new B(b.options),f=e.contains("sign");if(null===a.a||7>a.a){for(var g=new B(["sign","detail"]),l=new B,g=cc(g),p=0;p<g.length;p++){var q=g[p];e.contains(q)&&ec(l,q)}l.u()&&d.push("options="+l.v().join(","))}e.u()&&
(null===a.a||7<=a.a)&&d.push("params="+e.v().join(","))}b.nonce&&d.push("nonce="+b.nonce);d.length&&Kd(c,d.join("&"),void 0)}b=void 0;a.f&&(b={"Accept-Language":a.f});return ji(a.b,{url:c.toString(),method:"GET",headers:b,timeout:f?4E4:1E4,G:f?1:2}).then(a.j.bind(a)).then(a.l.bind(a))};mi.prototype.j=function(a){if(!a.version)return a;if(!this.i.contains(a.version))throw new ti;this.a=parseInt(a.version,10);return this.h.get(this.a,null)(a)};
mi.prototype.l=function(a){var b=this.c.read(),c=b.eurekaInfoState,d={};this.a&&(d.setupApiVersion=this.a);if(3<=this.a&&6>=this.a)d.name=a.name,d.setupState=a.setup_state,d.ssdpUdn=a.ssdp_udn,3===this.a?(d.ethernetConnected=!1,d.tosAccepted=!0,d.modelName="Chromecast"):(d.ethernetConnected=6===this.a?!!a.ethernet_connected:!1,d.tosAccepted=!!a.tos_accepted,a.detail&&(d.modelName=a.detail.model_name)),a.ip_address&&(d.connectedIpAddress=a.ip_address),d.deviceType="c",d.features=Xf(d.deviceType);else if(7<=
this.a){a.name&&(d.name=a.name);if(a.setup&&(void 0!==a.setup.setup_state&&(d.setupState=a.setup.setup_state),63===d.setupState?d.tosAccepted=!1:void 0!==a.setup.tos_accepted&&(d.tosAccepted=a.setup.tos_accepted),void 0!==a.setup.ssid_suffix)){var e=Wf(a.setup.ssid_suffix);d.deviceType=e?e.type:"c"}a.device_info&&a.device_info.model_name&&(d.modelName=a.device_info.model_name);a.net&&(void 0!==a.net.ethernet_connected&&(d.ethernetConnected=a.net.ethernet_connected),a.net.ip_address&&(d.connectedIpAddress=
a.net.ip_address),a.device_info&&a.device_info.ssdp_udn&&(d.ssdpUdn=a.device_info.ssdp_udn));d.features=Xf(d.deviceType||c&&c.deviceType||"b",a.device_info&&a.device_info.capabilities)}c?Pb(c,d):b.eurekaInfoState=d;this.c.write(b);return a};
var xi=function(a){return ji(a.b,{url:vi(a,"/setup/offer"),method:"GET",timeout:1E4,G:2}).then(function(a){return a})},yi=function(a,b){a.b.request({url:vi(a,"/setup/reboot"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(new qe(b)),timeout:1E4,G:2})},zi=function(a){var b=new te;b.immediate=!0;return ji(a.b,{url:vi(a,"/setup/save_wifi"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(b),timeout:2E4,G:1}).then(function(a){var b=this.c.read();
b.eurekaInfoState&&b.eurekaInfoState.setupState!==a.setup_state&&(b.eurekaInfoState.setupState=a.setup_state,this.c.write(b));return a}.bind(a))},Ai=function(a){return ji(a.b,{url:vi(a,"/setup/scan_results"),method:"GET",timeout:1E4,G:5}).then(function(a){return a})},Bi=function(a){return a.b.request({url:vi(a,"/setup/scan_wifi"),method:"POST",G:0})},Ci=function(a,b){return a.b.request({url:vi(a,"/setup/set_eureka_info"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(b),
G:0})},Di=function(a){return ji(a.b,{url:vi(a,"/setup/supported_locales"),method:"GET",timeout:1E4,G:2}).then(function(a){return a})},Ei=function(a){return ji(a.b,{url:vi(a,"/setup/supported_timezones"),method:"GET",timeout:1E4,G:2}).then(function(a){return a})},vi=function(a,b){a=a.g.clone();a.c=b;return a.toString()};var Fi=function(a,b){this.networks=new A;this.f=new R(this.gb.bind(this),this.fb.bind(this));this.b=a;this.g=[];for(var c=1,d=arguments.length;c<d;++c)this.g.push(arguments[c]);this.c=new B;this.h=this.pb.bind(this);this.i=this.qb.bind(this);this.a=new P},Gi=function(a,b){O.call(this,a);this.a=b};u(Gi,O);var Hi=function(){};Hi.prototype.c=function(){return!0};Hi.prototype.a=function(){return!0};var Ii=function(a){this.b=a||null};u(Ii,Hi);
Ii.prototype.c=function(a){return!(!a.WiFi||a.WiFi.Security&&"None"!==a.WiFi.Security)};Ii.prototype.a=function(a){return this.b?!(!a.WiFi||a.WiFi.BSSID!==this.b):Vf(a)};h=Fi.prototype;h.start=function(){return this.f.start()};h.stop=function(){return this.f.stop()};h.gb=function(){var a=this.b;a.onNetworkListChanged.addListener(this.h);a.onNetworksChanged.addListener(this.i);return S(this.f,this.b.getNetworks({networkType:"WiFi",visible:!0})).then(this.xb.bind(this))};
h.xb=function(a){return td(a.filter(function(a){if(Ji(this,a))return!0;ec(this.c,a.GUID);return!1}.bind(this)).map(function(a){return this.ua(a.GUID)}.bind(this)))};h.fb=function(){this.b.onNetworkListChanged.removeListener(this.h);this.b.onNetworksChanged.removeListener(this.i);this.networks.clear();this.c.clear();return H()};h.pb=function(a){var b=new B(this.networks.D());a=gc(new B(a),this.c);Xb(gc(a,b),this.ua.bind(this));Xb(gc(b,a),this.Ia.bind(this))};
h.Ia=function(a){var b=this.networks.get(a);this.networks.remove(a);a="Connected"===b.ConnectionState;b.ConnectionState="NotConnected";a&&Ki(this,"disconnected",b);Ki(this,"removed",b)};h.qb=function(a){a=gc(new B(a),this.c);Xb(a,this.ua.bind(this))};
h.ua=function(a){var b=this,c=J();K(L(Li(b,a).then(function(c){var e=b.networks.get(a),f=!(!e||"Connected"!==e.ConnectionState);b.networks.set(c.GUID,c);var g="Connected"===c.ConnectionState;e||Ki(b,"added",c);!f&&g?Ki(b,"connected",c):f&&!g&&Ki(b,"disconnected",c)}),function(){bc(b.networks,a)&&b.Ia(a)}),function(){c.b()});return c.a};
var Ki=function(a,b,c){Q(a.a,new Gi(b,c))},Li=function(a,b){return L(S(a.f,a.b.getProperties(b)),function(a){throw a;}.bind(a)).then(function(a){if(!Mi(this,a))throw ec(this.c,b),new M;return a}.bind(a))},Ji=function(a,b){return!yb(a.g,function(a){return!a.c(b)})},Mi=function(a,b){return!yb(a.g,function(a){return!a.a(b)})};var Ni=function(a){this.b=a;this.a=null},Oi=new A(1,2E4,3,6E4,2,6E4),Qi=function(a,b){var c=Ke(a).filter(Pi);c.push(b);Le(a,c)},Pi=function(a){var b=Oi.get(a.type,Infinity);return oa()-a.time<b},Ri=function(a){this.b=a};u(Ri,Hi);Ri.prototype.a=function(a){return!Si(this.b,a.WiFi&&a.WiFi.BSSID,2)};
var Ti=function(a){a.a=new A;for(var b=Ke(a.b),c=[],d=0,e=b.length;d<e;++d){var f=b[d];if(Pi(f)){c.push(f);bc(a.a,f.type)||a.a.set(f.type,new A);var g=a.a.get(f.type);g&&g.get(f.deviceId,-Infinity)<f.time&&g.set(f.deviceId,f.time)}}c.length!==b.length&&Le(a.b,c)},Si=function(a,b,c){a.a||Ti(a);a=a.a.get(c,null);if(null===a||!bc(a,b))return!1;b=a.get(b)+Oi.get(c,0);return oa()<b},Ui=function(a,b){return Si(a,b,1)||Si(a,b,3)};var Vi=function(a,b,c,d){P.call(this);this.m=new Ni(d.localStorage);this.c=new Fi(a,new Ii,new Ri(this.m));this.h=b;this.J=a;this.C=c;this.l=d};u(Vi,P);var Wi=function(a){O.call(this,"devices");this.devices=a};u(Wi,O);var Xi=function(a,b,c,d){Vi.call(this,a,b,c,d);this.a=null;this.j=0;this.f=new A;this.i=new Fg(5E3,6E4);this.w=this.K.bind(this);this.A=this.tb.bind(this);this.s=new R(this.eb.bind(this),this.cb.bind(this))};u(Xi,Vi);
var Yi=function(a,b){return L(qi(a.C,ni(b)).then(function(a){var b=a.getState(),e=b.eurekaInfoState;return b.deviceIpAddress&&e&&e.name&&e.ssdpUdn&&void 0!==e.ethernetConnected&&void 0!==e.tosAccepted&&e.deviceType&&void 0!==e.features?a:I()}.bind(a)),function(){}.bind(a))};h=Xi.prototype;h.eb=function(){this.l.document.addEventListener("visibilitychange",this.A);this.h.listen("devices",this.w);Qg(this.h);this.j=0;return this.c.start().then(this.W.bind(this))};
h.cb=function(){this.l.document.removeEventListener("visibilitychange",this.A);this.h.B("devices",this.w);this.j=0;this.i=new Fg(5E3,6E4);this.a&&(this.a.cancel(),this.a=null);this.f.clear();return this.c.stop()};h.start=function(){return this.s.start()};h.stop=function(){return this.s.stop()};h.tb=function(){this.l.document.hidden?this.a&&(this.a.cancel(),this.a=null):(this.i=new Fg(5E3,6E4),this.W())};
h.W=function(){this.a&&this.a.cancel();Ti(this.m);this.J.requestNetworkScan();this.j++;1<=this.j&&this.l.document.hidden?this.a=null:(this.a=T(this.i.b),S(this.s,this.a).then(this.W.bind(this)),Gg(this.i))};var Zi=function(a){var b=[];a.f.v().forEach(function(a){a.Y&&!Ui(this.m,a.ipAddress)&&b.push(a)}.bind(a));Q(a,new Wi(b))};
Xi.prototype.K=function(a){a.a.devices.forEach(function(a){var c=this.f.get(a.ipAddress);c||(c={ipAddress:a.ipAddress},Yi(this,a.ipAddress).then(function(c){var e=this.f.get(a.ipAddress);e&&(e.Y=c,this.f.set(a.ipAddress,e),Zi(this))}.bind(this)));a.sessionId&&a.appId&&(c.sessionId=a.sessionId,c.appId=a.appId);this.f.set(a.ipAddress,c)}.bind(this));Zi(this)};var $i=function(){},aj="function"==typeof Uint8Array,cj=function(a,b,c,d){a.b=null;b||(b=c?[c]:[]);a.j=c?String(c):void 0;a.f=0===c?-1:0;a.a=b;a:{if(a.a.length&&(b=a.a.length-1,(c=a.a[b])&&"object"==typeof c&&!da(c)&&!(aj&&c instanceof Uint8Array))){a.g=b-a.f;a.c=c;break a}a.g=Number.MAX_VALUE}a.i={};if(d)for(b=0;b<d.length;b++)c=d[b],c<a.g?(c+=a.f,a.a[c]=a.a[c]||bj):a.c[c]=a.c[c]||bj},bj=[],dj=function(a,b){if(b<a.g){b+=a.f;var c=a.a[b];return c===bj?a.a[b]=[]:c}c=a.c[b];return c===bj?a.c[b]=[]:
c},ej=function(a,b,c){b<a.g?a.a[b+a.f]=c:a.c[b]=c},fj=function(a,b,c){a.b||(a.b={});if(!a.b[c]){for(var d=dj(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.b[c]=e}b=a.b[c];b==bj&&(b=a.b[c]=[]);return b},hj=function(a){if(a.b)for(var b in a.b){var c=a.b[b];if(da(c))for(var d=0;d<c.length;d++)c[d]&&gj(c[d]);else c&&gj(c)}},gj=function(a){hj(a);return a.a},ij=k.JSON&&k.JSON.stringify||"object"===typeof JSON&&JSON.stringify;
$i.prototype.h=aj?function(){var a=Uint8Array.prototype.toJSON;Uint8Array.prototype.toJSON=function(){eh();for(var a=ah,b=[],e=0;e<this.length;e+=3){var f=this[e],g=e+1<this.length,l=g?this[e+1]:0,p=e+2<this.length,q=p?this[e+2]:0,C=f>>2,f=(f&3)<<4|l>>4,l=(l&15)<<2|q>>6,q=q&63;p||(q=64,g||(l=64));b.push(a[C],a[f],a[l],a[q])}return b.join("")};try{var b=ij.call(null,gj(this),sh)}finally{Uint8Array.prototype.toJSON=a}return b}:ij?function(){return ij.call(null,gj(this),sh)}:function(){var a=gj(this),
b=[];uh(new th,a,b);return b.join("")};var sh=function(a,b){if(fa(b)){if(isNaN(b))return"NaN";if(Infinity===b)return"Infinity";if(-Infinity===b)return"-Infinity"}return b};$i.prototype.toString=function(){hj(this);return this.a.toString()};var jj=function(a){cj(this,a,0,null)};u(jj,$i);var lj=function(a){cj(this,a,"is.gsser",kj)};u(lj,$i);var kj=[3,5,13];lj.messageId="is.gsser";lj.prototype.getTitle=function(){return dj(this,1)};lj.prototype.setTitle=function(a){ej(this,1,a)};var mj=function(a){cj(this,a,0,null)};u(mj,$i);var nj=function(a){cj(this,a,0,null)};u(nj,$i);var oj=function(a,b,c){this.b=a;this.a=c;this.c="https://clients3.google.com/cast/chromecast/home/gsse?rt=j&hl="+b};
oj.prototype.request=function(a){var b=new jj;ej(b,3,a);ej(b,1,"E8C28D3C");return this.b.request({url:this.c,method:"POST",content:b.h(),headers:{"Content-Type":"application/json"}}).then(function(a){a=a.V();a.startsWith(")]}'\n")&&(a=a.slice(5));a=JSON.parse(a);a=new lj(a[0][0]);var b=[],e=dj(a,4);e&&b.push(e);(e=fj(a,nj,5))&&e.forEach(function(a){b.push(dj(a,2))});b.forEach(this.a.j.bind(this.a));return a}.bind(this))};var pj=function(a){this.b=a;this.a=new A;this.g=new R(this.Ya.bind(this),this.Xa.bind(this));this.h=this.ub.bind(this);this.i=this.vb.bind(this);this.f=this.Wa.bind(this);this.c=this.Va.bind(this)},qj=function(a){this.a=a};qj.prototype.ha=function(){var a=Uf(this.a.WiFi.SSID),b=new db("wifi:"+this.a.GUID,Zf(a.type),a.name);b.needsSetup=!0;b.features=Xf(a.type);return b};
qj.prototype.Da=function(){var a=this.ha(),a={name:a.displayName,type:Of.a.get(a.type)||"c"};a.ssid=this.a.WiFi.SSID;a.bssid=this.a.WiFi.BSSID;return new Ae(a)};qj.prototype.start=function(){return H()};qj.prototype.stop=function(){return H()};var rj=function(a,b,c,d){this.j=b;this.a=null;this.c=d;this.m=a;this.h=new R(this.Ua.bind(this),this.Ta.bind(this));this.w=c;this.g=this.b=this.f=null;this.A=new oj(a.g,a.h(),this.m.m);this.i=this.l.bind(this);this.s=this.rb.bind(this);this.o=this.mb.bind(this)};
rj.prototype.Da=function(){var a=this.ha();return new Ae({name:a.displayName,type:Of.a.get(a.type)||"c",ipAddress:this.j})};
var sj=function(a,b){if(!fg(a.a.appId)||fg(a.a.appId)&&!a.f)return b;a.a.status&&(b.sessionStatus=cg(a.a.status));var c=fj(a.f,mj,3);0<c.length&&(b.backdropImageAttributions=xb(c,function(a){return dj(a,1)}.bind(a)));c=fj(a.f,nj,5);0<c.length&&(b.backdropSecondaryActions=xb(c,function(a){var b={},c=dj(a,1);c&&(b.text=c);(a=dj(a,2))&&(b.url=a);return b}.bind(a)));if(c=a.f.getTitle())b.mediaTitle=c;var d=dj(a.f,2);d&&(b.imgUrl=d);if(a=dj(a.f,4))b.backdropPrimaryActionUrl=a;c||1!==b.backdropImageAttributions.length||
(b.mediaTitle=b.backdropImageAttributions[0],b.backdropImageAttributions=[]);return b};h=rj.prototype;
h.ha=function(){var a="ip:"+this.j,b=this.w.getState().eurekaInfoState,a=new db(a,Zf(b.deviceType),b.name);a.features=b.features;a.displayName=b.name;a.needsSetup=b.ethernetConnected&&!b.tosAccepted;if(a.needsSetup&&!a.features.supportsSetup)a=null;else if(this.a&&this.a.status!==chrome.cast.SessionStatus.STOPPED)if(fg(this.a.appId))a=sj(this,a);else if(a.isCasting=!0,this.a.receiver.volume&&(b=this.a.receiver.volume.level,null!==b&&(a.volumeLevel=b),b=this.a.receiver.volume.muted,null!==b&&(a.isMuted=
b)),this.a.status&&(a.sessionStatus=cg(this.a.status)),b=this.a.appId,"85CDB22F"===b||"0F5096E8"===b)this.a.displayName&&(a.mediaTitle=this.a.displayName),this.a.statusText&&(a.mediaSource=this.a.statusText);else if(this.a.displayName&&(a.mediaSource=this.a.displayName),b=tj(this))if(0<=ub(b.supportedMediaCommands,chrome.cast.media.MediaCommand.PAUSE)&&(a.canPause=!0),b.playerState&&(a.playerState=bg(b.playerState)),b.media&&(b.media.duration&&(a.mediaDuration=b.media.duration),b=b.media.metadata||
b.media.a))b.title&&(a.mediaTitle=b.title),b.images&&0<b.images.length&&b.images[0].url&&!b.images[0].url.endsWith(".ico")&&(a.imgUrl=b.images[0].url);return a};h.Ab=function(){if(this.g)if(!this.g.appId||!this.g.sessionId)uj(this),this.c();else if(!this.a||this.a.sessionId!=this.g.sessionId){var a=jg(this.m.i,this.g.appId,this.g.sessionId);a.then(this.sb.bind(this));S(this.h,a);this.g=null}};
h.sb=function(a){a.session.status!=chrome.cast.SessionStatus.STOPPED&&(this.a&&uj(this),this.a=a.session,this.b=a.context,this.a.addMediaListenerWithContext(this.b,this.s),this.a.addUpdateListenerWithContext(this.b,this.i),fg(this.a.appId)&&(this.a.addMessageListenerWithContext(this.b,"urn:x-cast:com.google.cast.sse",this.o),this.a.sendMessageWithContext(this.b,"urn:x-cast:com.google.cast.sse",{type:"GET_STATUS",requestId:Math.floor(4294967295*Math.random())},n,function(){})),this.a.media&&this.a.media.forEach(function(a){a.addUpdateListenerWithContext(this.b,
this.i)}.bind(this)),this.l())};h.mb=function(a,b){"urn:x-cast:com.google.cast.sse"===a&&(a=JSON.parse(b),a=this.A.request(a.backendData),a.then(function(a){this.f=a;this.c()}.bind(this)),S(this.h,a))};h.rb=function(a){this.l();a.addUpdateListenerWithContext(this.b,this.i)};h.start=function(){return this.h.start()};h.stop=function(){return this.h.stop()};h.Ua=function(){return H()};h.Ta=function(){uj(this);return H()};
var uj=function(a){a.f=null;a.a&&(a.a.media&&a.a.media.forEach(function(a){a.removeUpdateListenerWithContext(this.b,this.i)}.bind(a)),a.a.removeUpdateListenerWithContext(a.b,a.i),a.a.removeMediaListenerWithContext(a.b,a.s),fg(a.a.appId)&&a.a.removeMessageListenerWithContext(a.b,"urn:x-cast:com.google.cast.sse",a.o),a.a=null,a.b=null)},tj=function(a){if(!a.a||!a.a.media)return null;var b=null;a.a.media.forEach(function(a){a&&(b?!b.media&&a.media?b=a:b.playerState==chrome.cast.media.PlayerState.IDLE&&
a.playerState!=chrome.cast.media.PlayerState.IDLE&&(b=a):b=a)}.bind(a));return b};rj.prototype.l=function(){this.a.status===chrome.cast.SessionStatus.STOPPED&&uj(this);this.c()};
var vj=function(a,b){if(a.a&&a.b){var c=tj(a);c&&0<=ub(c.supportedMediaCommands,chrome.cast.media.MediaCommand.PAUSE)&&(3==b&&c.playerState==chrome.cast.media.PlayerState.PAUSED?c.playWithContext(a.b,null,a.c,function(){}):4==b&&c.playerState==chrome.cast.media.PlayerState.PLAYING&&c.pauseWithContext(a.b,null,a.c,function(){}))}},xj=function(a,b,c){if(a.a&&a.b)switch(c){case 4:case 3:vj(a,c);break;case 5:a.a.stopWithContext(a.b,a.c,function(){});break;case 6:a.a.setReceiverMutedWithContext(a.b,!0,
a.c,function(){});break;case 7:a.a.setReceiverMutedWithContext(a.b,!1,a.c,function(){});break;case 8:b.volumeLevel!==a.a.receiver.volume.level&&a.a.setReceiverVolumeLevelWithContext(a.b,b.volumeLevel,a.c,function(){})}},yj=function(a,b){if(a.id===b.id)return 0;if(a.needsSetup!==b.needsSetup)return a.needsSetup?-1:1;var c=qa(a.displayName,b.displayName);return 0!==c?c:a.id<b.id?-1:a.id>b.id?1:0};h=pj.prototype;h.start=function(){return this.g.start()};h.stop=function(){return this.g.stop()};
h.Ya=function(){this.X();var a=this.b.a.c.a;a.listen("added",this.h);a.listen("removed",this.i);this.b.b.a.a.addListener("Devices.UserAction",this.f);this.b.a.listen("devices",this.c);a=this.b.a;Qg(a.h);a.W();return this.b.a.start()};h.Xa=function(){this.b.b.a.a.removeListener("Devices.UserAction",this.f);var a=this.b.a.c.a;a.B("added",this.h);a.B("removed",this.i);this.b.a.B("devices",this.c);var b=[this.b.a.stop()];this.a.forEach(function(a){b.push(a.stop())}.bind(this));this.a=new A;return td(b)};
h.ub=function(a){var b="wifi:"+a.a.GUID;a=this.a.get(b)||new qj(a.a);this.a.set(b,a);a.start();this.X()};h.vb=function(a){a="wifi:"+a.a.GUID;var b=this.a.get(a);b&&(b.stop(),this.a.remove(a),this.X())};
h.Va=function(a){var b=new A,c=!1;a.devices.forEach(function(a){if(a.ipAddress){var e="ip:"+a.ipAddress,f=this.a.get(e);f||(f=new rj(this.b,a.ipAddress,a.Y,this.X.bind(this)),f.start(),c=!0);var g=f;a.ipAddress==g.j&&(g.g=a,sg(g.h).then(g.Ab.bind(g)));b.set(e,f);this.a.remove(e)}}.bind(this));this.a.D().forEach(function(a){var c=this.a.get(a);c instanceof qj&&(b.set(a,c),this.a.remove(a))}.bind(this));0<this.a.u()&&(c=!0);this.a.forEach(function(a){a.stop()}.bind(this));this.a=b;c&&this.X()};
h.X=function(a){var b=[];this.a.forEach(function(a){if(a=a.ha()){for(var d,e=yj||Ib,f=0,g=b.length;f<g;){var l=f+g>>1,p;p=e(a,b[l]);0<p?f=l+1:(g=l,d=!p)}d=d?f:~f;0>d&&Hb(b,-(d+1),0,a)}}.bind(this));this.b.b.a.a.sendMessage(new eb(b,a))};
h.Wa=function(a){var b=this.a.get(a.device.id);if(b)switch(a.action){case 1:a=new ye(ra());a.states=new Ee(0,[new N(1)]);a.commonState=new ze;a.commonState.device=b.Da();a.commonState.pinned=!0;Ie(this.b.f,a);this.b.l(a.id);break;case 2:this.b.j(b.j);break;case 3:case 4:case 5:case 6:case 7:case 8:xj(b,a.device,a.action)}};var zj=function(a,b){this.b=a;this.i=b;this.c=null;this.j=ni(b);this.g=this.a=null;this.f=new R(this.$a.bind(this),this.Za.bind(this));this.h=new A("DeviceSettings.Apply",this.Ra.bind(this),"DeviceSettings.Reboot",this.s.bind(this),"DeviceSettings.FactoryReset",this.m.bind(this),"DeviceSettings.ForgetWiFi",this.o.bind(this),"DeviceSettings.Exit",this.l.bind(this))};h=zj.prototype;h.start=function(){return this.f.start()};h.stop=function(){return this.f.stop()};
h.$a=function(){return S(this.f,qi(this.b.g,this.j)).then(function(a){this.c=a;return td([S(this.f,oi(a,{options:"build_info.cast_build_revision device_info.mac_address detail net.ip_address settings.country_code settings.locale settings.timezone settings.time_format opt_in.stats wifi.ssid wifi.wpa_id".split(" ")})),S(this.f,Di(a)),S(this.f,Ei(a))])}.bind(this)).then(function(a){this.wb.apply(this,a);var b=this.b.b.a.a;this.h.forEach(function(a,d){b.addListener(d,a)});Aj(this,1)}.bind(this))};
h.Za=function(){var a=this.b.b.a.a;this.h.forEach(function(b,c){a.removeListener(c,b)});this.c=null;this.j=ni(this.i);this.a=null;return H()};
h.wb=function(a,b,c){var d=ui(this.c),e=d.setupApiVersion,f=Zf(d.deviceType);c=c.map(function(a){return new ib(a.timezone,a.display_string,a.offset)});b=b.map(function(a){return new hb(a.locale,a.display_string)});var g=this.a={};if(7<=e){var e=a.wifi,l=a.settings,p=a.opt_in,q=a.build_info,C=a.device_info;a=a.net;g.deviceType=f;g.name=d.name;g.ssid=!d.ethernetConnected&&e.ssid||null;g.timeZoneId=l.timezone||null;g.supportedTimeZones=c;g.timeFormat=1===l.time_format?1:2;g.localeId=l.locale||"";g.supportedLocales=
b;g.statsOptIn=!!p.stats;g.firmwareVersion=q.cast_build_revision||"";g.countryCode=l.country_code||null;g.macAddress=C.mac_address||"";g.ipAddress=a.ip_address;this.g=void 0!==e.wpa_id?e.wpa_id:null}else l=1===(3<e?a.time_format:2)?1:2,g.deviceType=f,g.name=d.name,g.ssid=!d.ethernetConnected&&a.ssid||null,g.timeZoneId=a.timezone||null,g.supportedTimeZones=c,g.timeFormat=l,g.localeId=a.locale,g.supportedLocales=b,g.statsOptIn=!!(3<e&&a.opt_in&&a.opt_in.stats),g.firmwareVersion=a.build_version,g.countryCode=
3<e&&a.location&&a.location.country_code||null,g.macAddress=a.mac_address,g.ipAddress=a.ip_address,this.g=void 0!==a.wpa_id?a.wpa_id:null};
h.Ra=function(a){var b=this;if(a.name===b.a.name&&a.timeZoneId===b.a.timeZoneId&&a.timeFormat===b.a.timeFormat&&a.localeId===b.a.localeId&&a.statsOptIn===b.a.statsOptIn)Aj(b,1);else{var c=Nb(b.a);b.a.name=a.name;b.a.timeZoneId=a.timeZoneId;b.a.timeFormat=a.timeFormat;b.a.localeId=a.localeId;b.a.statsOptIn=a.statsOptIn;Aj(b,2);L(S(b.f,Ci(b.c,Bj(b,a))).then(function(){b.a.localeId!==c.localeId?b.b.reload():Aj(b,1)}),function(){b.a=c;Aj(b,3)})}};
var Bj=function(a,b){var c=a.c.a;a=1===b.timeFormat?1:2;if(7<=c)return c=new xe,c.name=b.name,c.settings=new me,b.timeZoneId&&(c.settings.timezone=b.timeZoneId),c.settings.time_format=a,c.settings.locale=b.localeId,c.opt_in=new ne,c.opt_in.stats=b.statsOptIn,c;if(4<=c&&6>=c)return c=new we,c.name=b.name,b.timeZoneId&&(c.timezone=b.timeZoneId),c.time_format=a,c.locale=b.localeId,c.opt_in=new ge,c.opt_in.stats=b.statsOptIn,c;a=new ve;a.name=b.name;b.timeZoneId&&(a.timezone=b.timeZoneId);a.locale=b.localeId;
return a},Aj=function(a,b){a.b.b.a.a.sendMessage(new jb(b,a.a))};zj.prototype.s=function(){yi(this.c,"now");var a=this.c.c.read().deviceIpAddress;Qi(this.b.f,new Fe(1,oa(),a));this.b.c()};zj.prototype.m=function(){yi(this.c,"fdr");var a=this.c.c.read().deviceIpAddress;Qi(this.b.f,new Fe(3,oa(),a));this.b.c()};
zj.prototype.o=function(){var a=this.c,b=this.g;a.b.request({url:vi(a,"/setup/forget_wifi"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(new oe(b)),timeout:1E4,G:2});this.b.c()};zj.prototype.l=function(){this.b.c()};var Cj=function(a,b){this.onDeviceList=a;this.onError=b},Dj=function(){Cj.call(this,chrome.dial.onDeviceList,chrome.dial.onError)};u(Dj,Cj);Dj.prototype.discoverNow=function(){return new G(function(a,b){chrome.dial.discoverNow(function(){chrome.runtime.lastError?b(new Kf(chrome.runtime.lastError.message)):a()})})};ba(Dj);var Ej=function(a,b,c){this.c=a;this.l=b;this.j=new P;this.b=0;this.g=[];this.i=0;this.a={};this.s=[];this.h=this.m.bind(this);this.o=this.A.bind(this);this.f=new R(this.J.bind(this),this.C.bind(this));this.w=c},Fj=function(a,b,c,d,e,f){this.name=a;this.ipAddress=b;this.udn=c;this.ethernetConnected=d;this.tosAccepted=e;this.deviceType=f},Gj=function(a){O.call(this,"deviceListUpdated");this.devices=a};u(Gj,O);Ej.prototype.start=function(){return this.f.start()};Ej.prototype.stop=function(){return this.f.stop()};
var Hj=function(a){if(0<=ta($g,49))try{var b=chrome.extension.getBackgroundPage().backgroundSetup;b.stopDialService.call(b);a.c.onDeviceList.removeListener(a.h);a.c.onDeviceList.addListener(a.h);b.startDialService.call(b)}catch(c){}},Ij=function(a){Hj(a);L(a.c.discoverNow(),function(){})};Ej.prototype.J=function(){this.c.onDeviceList.addListener(this.h);this.c.onError.addListener(this.o);Ij(this);return H()};
Ej.prototype.C=function(){this.c.onDeviceList.removeListener(this.h);this.c.onError.removeListener(this.o);Kb(this.a,function(a){a.L&&clearTimeout(a.L)});this.a={};return H()};Ej.prototype.m=function(a){this.b++;a=a.filter(function(a){var c=null;try{c=Ud(a.deviceDescriptionUrl).a}catch(d){}return!(!c||null!==Uc(c)&&Ui(this.w,c))}.bind(this));this.i=a.length;this.g=[];0==a.length?Jj(this):wb(a,this.M,this);this.s=[]};Ej.prototype.A=function(){this.m([])};
var Jj=function(a){0<a.i||(Jb(a.g,function(a,c){return qa(a.name,c.name)}),Q(a.j,new Gj(a.g)))},Lj=function(a,b,c,d){var e=a.a[c];if(e&&!(e.ra>b))if(0<=ub(a.s,d.udn))Kj(a,b,c);else{if(b=a.a[c])b.L&&clearTimeout(b.L),b.L=setTimeout(ma(a.K,a,c),3E5);e.description=d;e.status=1;e.na==a.b&&(--a.i,a.g.push(d),Jj(a))}},Kj=function(a,b,c){var d=a.a[c];if(d&&!(d.ra>b)){if(b=a.a[c])b.L&&clearTimeout(b.L),b=a.a,c in b&&delete b[c];d.na==a.b&&(--a.i,Jj(a))}};
Ej.prototype.K=function(a){var b=this.a[a];b&&(b.L=null,1==b.status&&(b=this.a,a in b&&delete b[a]))};
Ej.prototype.M=function(a){var b=Mj(this,a);if(1==b.status)Lj(this,this.b,a.deviceLabel,b.description);else if(2!=b.status){b.status=2;var c=b.ra=this.b,d=a.deviceLabel,e=this;L(S(this.f,this.l.request({url:a.deviceDescriptionUrl})).then(function(a){return(a=Yf(a.V()))&&a.yb?S(e.f,qi(e.l,ni(a.ipAddress))):I()}).then(function(a){a=a.getState();if(!(a.deviceIpAddress&&a.eurekaInfoState&&a.eurekaInfoState.name&&a.eurekaInfoState.ssdpUdn&&void 0!==a.eurekaInfoState.ethernetConnected&&void 0!==a.eurekaInfoState.tosAccepted&&
a.eurekaInfoState.deviceType))return I();Lj(e,c,d,new Fj(a.eurekaInfoState.name,a.deviceIpAddress,a.eurekaInfoState.ssdpUdn,a.eurekaInfoState.ethernetConnected,a.eurekaInfoState.tosAccepted,a.eurekaInfoState.deviceType))}),function(){Kj(e,c,d)})}};var Mj=function(a,b){a.a[b.deviceLabel]||(a.a[b.deviceLabel]={status:3,configId:b.configId,ra:a.b,na:a.b,L:null,description:null});var c=a.a[b.deviceLabel];c.na=a.b;b.configId&&c.configId==b.configId||(c.configId=b.configId,c.status=3);return c};var Nj=chrome.i18n.getMessage("3254351313955764967"),Oj=chrome.i18n.getMessage("3485206350043289145");var Pj=function(a,b){this.f=a;this.a=b;this.b=new P;this.c=new R(this.h.bind(this),this.g.bind(this))};Pj.prototype.start=function(){return this.c.start()};var Qj=function(a,b){(a=a.f.document&&a.f.document.body||null)&&a.setAttribute("class",b)};
Pj.prototype.h=function(){var a=J();Qj(this,"start");Rj(this);var b=S(this.c,T(18E4)).then(function(){Qj(this,"load-failed");Q(this.b,"loadTimedOut");a.c(new yf)}.bind(this));S(this.c,this.a.start()).then(function(){var a=this.a.a;S(this.c,vg(a,"OfflineUiReady")).then(function(){Q(this.b,"offlineUiReady")}.bind(this));Q(this.b,"waitingForHandshake");return S(this.c,a.sendRequest(new xa))}.bind(this)).then(function(c){switch(c.type){case "Handshake.Response":Qj(this,"hosting-embedded-ui");Q(this.b,
"embeddedUiReady");b.cancel();a.b();break;case "Handshake.UiVersionNotSupported":Qj(this,"update-required");Q(this.b,"updateRequired");a.c(c);break;default:Qj(this,"load-failed"),Q(this.b,"loadFailed")}}.bind(this));return a.a};var Rj=function(a){var b=a.f.document;[["#load-failed-message",Nj],["#update-required-message",Oj]].forEach(function(a){var d=b.querySelector(a[0]);d&&(d.textContent=a[1])})};Pj.prototype.g=function(){return this.a.stop()};var Sj=function(a,b,c,d,e){this.b=b;this.f=c;this.a=d;this.g=a.localStorage;this.c=e},Tj=function(a,b,c){this.i=a;this.l=b;this.o=m(c)?c:3E4;this.b=new A;this.h=!0;this.f=!1;this.a=new B;this.m=new Ni(a.g);this.g=new Ej(a.f,a.a,this.m);this.c=new R(this.ib.bind(this),this.hb.bind(this));this.j=this.ob.bind(this)};h=Tj.prototype;h.start=function(){return this.c.start()};h.stop=function(){if(!this.f){var a=new rb(this.l,this.b.v(),!0);this.i.b.a.a.sendMessage(a);this.f=!0}return this.c.stop()};
h.ib=function(){this.g.j.listen("deviceListUpdated",this.j);S(this.c,T(this.o)).then(function(){this.h=!1;this.Ka()}.bind(this));return this.g.start()};h.hb=function(){this.g.j.B("deviceListUpdated",this.j);this.b=new A;this.h=!0;this.f=!1;this.a=new B;return this.g.stop()};h.ob=function(a){a.devices.forEach(this.nb.bind(this))};
h.nb=function(a){var b=this;bc(b.b,a.udn)||b.a.contains(a.udn)||(ec(b.a,a.udn),K(qi(b.i.a,ni(a.ipAddress)).then(function(a){if(7>a.a)throw new M;return S(b.c,xi(a))}).then(function(c){b.b.set(a.udn,new qb(c.token,a.name,Zf(a.deviceType),a.udn));b.a.remove(a.udn);b.f||(c=new rb(b.l,b.b.v(),!b.h&&0===b.a.u()),b.f=c.scanComplete,b.i.b.a.a.sendMessage(c))},function(){b.a.remove(a.udn)}),b.Ka.bind(b)))};h.Ka=function(){this.h||0!==this.a.u()||this.stop()};var V=function(a,b,c){this.b=new R(b||function(){return H()},c||void 0);this.a=a};V.prototype.start=function(){return this.b.start()};V.prototype.stop=function(){return this.b.stop()};var W=function(a){return a.a.j.a.a};var Wj=function(a,b,c,d){var e=Uj,f=Vj,g=window.location.reload.bind(window.location),l=chrome.i18n.getUILanguage,p=new Mg;this.window=a;this.b=b;this.g=c;this.a=a.localStorage;this.l=a.sessionStorage;this.c=d;this.j=e;this.f=f;this.m=g;this.h=l;this.i=p};var Xj=function(a){V.call(this,a,this.l.bind(this),this.j.bind(this));this.c=this.f=null;this.g=this.i.bind(this);this.m=this.h.bind(this)};u(Xj,V);Xj.prototype.l=function(){return S(this.b,Yj(this.a)).then(function(a){this.f=a;W(this).addListener("AudioConfirmation.UserAction",this.g);W(this).sendMessage(new Qa(1));this.c=3;this.h()}.bind(this))};Xj.prototype.j=function(){this.c=this.f=null;W(this).removeListener("AudioConfirmation.UserAction",this.g);return H()};
Xj.prototype.h=function(){if(null!==this.c){var a=this.b,b;b=this.f;var c=this.c;b=b.b.request({url:vi(b,"/setup/play_sound"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(new pe(c)),timeout:1E4,G:2});S(a,b);this.c=3;S(this.b,T(1===this.c?3E3:1900)).then(this.m)}};Xj.prototype.i=function(a){var b=null;switch(a.action){case 1:this.c=1;b=2;break;case 2:X(this.a,12);Y(this.a,new N(5));break;case 3:b=3;break;case 4:X(this.a,13),a=this.a,Je(a.a.a,a.b),a.a.f()}b&&W(this).sendMessage(new Qa(b))};var Zj=function(a){V.call(this,a,this.c.bind(this),null)};u(Zj,V);Zj.prototype.c=function(){var a=this;S(this.b,W(this).sendRequest(new Na((this.a.b.setupApiClientState||null).verificationState.pin))).then(function(b){b.confirmed?(X(a.a,10),Y(a.a,new N(5))):(X(a.a,11),S(a.b,W(a).sendRequest(new Ca(1))).then(function(){var b=a.a;Je(b.a.a,b.b);b.a.f()}))});return H()};var ak=function(a,b){this.i=a;this.a=new Fi(a,new Ii(b));this.b="connected";this.c=null;this.f=new R(this.bb.bind(this),this.ab.bind(this));this.g=new P},bk=["added","removed","connected","disconnected"];h=ak.prototype;h.start=function(){return this.f.start()};h.stop=function(){return this.f.stop()};h.getState=function(){return this.b};h.bb=function(){var a=this;return a.a.start().then(function(){a.h();bk.forEach(function(b){a.a.a.listen(b,a.h,!0,a)})})};
h.ab=function(){this.b="connected";this.c=null;if(!this.a)return H();var a=this.a;this.a=null;bk.forEach(function(b){a.a.B(b,this.h,!0,this)}.bind(this));return a.stop()};var ck=function(a,b){a.b!==b&&(a.b=b,Q(a.g,new O(b)))};
ak.prototype.h=function(){if("failed"!==this.b){var a=null;1===this.a.networks.u()&&(a=this.a.networks.v()[0]);if(!a)"connected"===this.b&&(dk(this),ck(this,"disconnected"));else if("Connected"===a.ConnectionState)this.c&&(a=this.c,this.c=null,a.cancel()),ck(this,"connected");else if("connected"===this.b||"disconnected"===this.b)dk(this),ck(this,"reconnecting"),ek(this,a.GUID)}};
var ek=function(a,b){L(S(a.f,a.i.startConnect(b)),function(){ck(this,"failed");this.a.stop()}.bind(a))},dk=function(a){a.c||(a.c=S(a.f,T(9E4)).then(function(){ck(this,"failed");this.a.stop()}.bind(a)))};var fk=function(a){V.call(this,a,this.o.bind(this),this.m.bind(this));this.f=null;this.s=0;this.h=this.g=this.j=this.c=null};u(fk,V);var gk=["connected","disconnected","reconnecting","failed"];fk.prototype.o=function(){var a=this,b=Z(a.a);W(a).sendMessage(dg(b.connectWiFi));a.g=new ak(a.a.a.b,b.connectedHotSpotBssid);gk.forEach(function(b){a.g.g.listen(b,a.i,!0,a)});return td([S(a.b,a.g.start()),S(a.b,Yj(a.a)).then(function(b){a.f=b;hk(a)})]).then(a.w.bind(a))};
fk.prototype.m=function(){var a=this;ik(a);jk(a);if(!a.g)return H();var b=a.g;a.g=null;gk.forEach(function(c){b.g.B(c,a.i,!0,a)});return b.stop()};var hk=function(a,b){a.c||(a.c=L(T(b||0).then(function(){++a.s;a.c=oi(a.f,{options:["version","setup.setup_state","net.ip_address"]});return a.c}).then(a.l.bind(a)),function(a){Af(a)}).then(function(){a.c=null;hk(a,3E3)}))},jk=function(a){if(a.c){var b=a.c;a.c=null;b.cancel()}};
fk.prototype.l=function(){var a=ui(this.f).setupState;if(a!==this.j)switch(this.j=a,a){case 31:return kk(this,2),I(new M);case 21:case 41:case 10:case 11:return kk(this,1),I(new M);case 60:case 61:case 51:return lk(this),I(new M)}};
var lk=function(a){ik(a);X(a.a,19);var b=ui(a.f);K(L(S(a.b,a.a.a.c.a()).then(function(c){c=eg(b.setupApiVersion,Z(a.a).deviceName,3!==c);return S(a.b,Ci(a.f,c))}),function(a){Af(a)}).then(function(){var c=Z(a.a),d=c.connectedHotSpotBssid;Qi(a.a.a.a,new Fe(2,oa(),d));delete c.connectedHotSpotBssid;mk(a.a,c);if(60!==b.setupState&&4<=b.setupApiVersion)return L(S(a.b,zi(a.f)),n)}),function(){Y(a.a,new N(8))})},kk=function(a,b){ik(a);X(a.a,2===b?17:18);var c=Z(a.a);c.connectWiFi.b=b;mk(a.a,c);Y(a.a,new N(6))};
fk.prototype.i=function(a){switch(a.type){case "connected":hk(this);break;case "disconnected":case "reconnecting":jk(this);break;case "failed":kk(this,1)}};fk.prototype.w=function(){clearTimeout(this.h);this.h=setTimeout(function(){kk(this,1)}.bind(this),9E4)};var ik=function(a){clearTimeout(a.h);a.h=null};var nk="AD AE AF AG AI AL AM AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BL BM BN BO BQ BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CW CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IM IN IO IQ IR IS IT JE JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MF MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR SS ST SV SX SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW".split(" ");var ok=function(a){V.call(this,a,this.g.bind(this),null);this.f=!1;this.c=null};u(ok,V);ok.prototype.g=function(){var a=Z(this.a);this.f=!!a.device.ipAddress;var b=(this.a.b.setupApiClientState||null).eurekaInfoState,c=a.deviceName||b.name,b=3===b.setupApiVersion;this.f||b||a.country?a=null:(a=this.a.a.h(),a=(b=Sg(a))&&-1!==nk.indexOf(b)?b:(a=Rg(a).toUpperCase())&&-1!==nk.indexOf(a)?a:"US");this.c=a;L(S(this.b,W(this).sendRequest(new Ta(c,this.c))).then(this.h.bind(this)),this.a.g.bind(this.a));return H()};
ok.prototype.h=function(a){var b=this;X(b.a,14);var c=Z(b.a);c.deviceName=a.name;b.c&&a.country&&(c.country=a.country);mk(b.a,c);if(b.f){var d=null;return td([S(b.b,Yj(b.a)),b.a.a.c.a()]).then(function(a){d=a[0];a=a[1];var f=[];7<=d.a&&f.push(S(b.b,d.b.request({url:vi(d,"/setup/accept_tos"),method:"POST",timeout:1E4,G:2})));f.push(S(b.b,Ci(d,eg(d.a,c.deviceName,3!==a))));return td(f)}).then(function(){return S(b.b,oi(d,{options:["setup.setup_state"]}))}).then(function(){switch(ui(d).setupState){case 60:pk(b.a);
break;case 62:Y(b.a,new N(10));break;default:return I()}})}Y(b.a,new N(6))};var qk=function(a){V.call(this,a,this.c.bind(this),null)};u(qk,V);qk.prototype.c=function(){var a=this,b=null;return td([S(this.b,Yj(this.a)),this.a.a.c.a()]).then(function(c){b=c[0];c=eg(b.a,Z(a.a).deviceName,3!==c[1]);c=[S(a.b,Ci(b,c))];4<=b.a&&c.push(S(a.b,zi(b)));return td(c)}).then(function(){return S(a.b,oi(b,{options:["setup.setup_state"]}))}).then(function(){switch(ui(b).setupState){case 60:case 52:pk(a.a);break;case 62:Y(a.a,new N(10));break;default:return I()}})};var rk=function(a,b,c,d){V.call(this,a,this.aa.bind(this),this.m.bind(this));this.g=1;this.c=new mg;this.A=c;this.C=b;this.i=null;this.J=void 0!==d?d:Me(a.a.a);this.h=null;this.o=this.T.bind(this);this.l=this.j.bind(this);this.K=this.M.bind(this)};u(rk,V);
rk.prototype.aa=function(){var a=this;sk(a,1);a.h=new Fi(this.a.a.b);var b=a.h.a;b.listen("connected",a.ia,!0,a);b.listen("added",a.s,!0,a);b=W(a);b.addListener("WiFiSwitching.Proceed",a.o);b.addListener("WiFiSwitching.RetryConnection",a.l);b.addListener("WiFiConfig.Retry",a.l);return S(a.b,a.h.start()).then(function(){var b=a.h.networks;(b=a.i&&b.get(a.i)||null)?"Connected"===b.ConnectionState?a.j():a.J?(a.S(1),sk(a,2),a.Z(1),ng(a.c,T(25E3)).then(a.w.bind(a)),a.a.a.b.startConnect(a.i)):a.w():(sk(a,
11),a.a.g())})};rk.prototype.m=function(){this.g=1;this.i=null;var a=this.c;this.c=new mg;var a=[og(a)],b=this.h;this.h=null;if(b){var c=b.a;c.B("connected",this.ia,!0,this);c.listen("added",this.s,!0,this);a.push(b.stop())}b=W(this);b.removeListener("WiFiSwitching.Proceed",this.o);b.removeListener("WiFiSwitching.RetryConnection",this.l);b.removeListener("WiFiConfig.Retry",this.l);return td(a)};
rk.prototype.ia=function(a){if(tk(this,a))switch(this.g){case 2:this.S(2);this.j();break;case 6:this.S(4),this.j()}};rk.prototype.s=function(a){tk(this,a)&&1===this.g&&(this.i=a.a.GUID)};var tk=function(a,b){b=b.a.WiFi;return a.A&&!Sf(b.BSSID,a.A)||a.C&&b.SSID!==a.C?!1:!0};rk.prototype.w=function(){this.S(3);sk(this,5);this.O(1)};rk.prototype.T=function(){var a=this;sk(a,6);a.O(2);var b=a.h.networks.get(this.i);b&&"Connected"===b.ConnectionState?a.j():ng(a.c,T(1E4)).then(function(){sk(a,7);a.O(3)})};
var uk=function(a){var b=J();ng(a.c,b.a);var c=null,d=function(e){c=T(e).then(a.ya.bind(a)).then(function(c){a.S(5);b.b(c)},function(c){c instanceof hi?d(2E3):c instanceof ri&&(X(a.a,9),b.c(c))})};K(b.a,function(){if(c){var a=c;c=null;a.cancel()}});d(0);return b.a};rk.prototype.j=function(){var a=this;6===a.g||9===a.g?(sk(a,8),this.O(2)):(sk(a,3),this.Z(1));var b=uk(a).then(function(b){sk(a,11);a.za(b)},this.K);ng(a.c,T(12E4)).then(function(){b.cancel()})};
rk.prototype.M=function(a){a=a instanceof ti||a instanceof ri;8===this.g?a?(sk(this,10),this.O(5)):(sk(this,9),this.O(4)):a?(sk(this,10),this.Z(3)):(sk(this,4),this.Z(2))};var sk=function(a,b){b!==a.g&&(a.g=b,b=a.c,a.c=new mg,og(b))};var vk=function(a){this.f=Z(a).device;rk.call(this,a,null,this.f.bssid)};u(vk,rk);var wk=new A(1,4,2,5,3,6,4,7,5,8);h=vk.prototype;h.ia=function(a){var b=a.a.WiFi,c=null;Sf(b.BSSID,this.f.bssid)?(c=Z(this.a),c.connectedHotSpotBssid=b.BSSID):Vf(a.a)||(c=Z(this.a),c.originalWiFiNetwork={ssid:b.SSID,bssid:b.BSSID});c&&mk(this.a,c);vk.I.ia.call(this,a)};h.ya=function(){var a=this.a.a;return S(this.b,si(a.g,ni("192.168.255.249"),a.b,{ssid:this.f.ssid,bssid:this.f.bssid},a.h()))};
h.Z=function(a){var b=this.a.a,c=W(this),d=Zf(this.f.type);c.sendMessage(new Ha(1===a&&3||2===a&&4||3===a&&5||null,d,this.f.name));3===a&&ng(this.c,vg(c,"BadDeviceAck")).then(b.f.bind(b))};h.O=function(a){var b=this.a.a,c=W(this);c.sendMessage(new Ka(a,this.f.name,this.f.ssid));5===a&&ng(this.c,vg(c,"BadDeviceAck")).then(b.f.bind(b))};h.za=function(a){a=a.getState();this.a.h(a);a.eurekaInfoState.features.supportsDisplay?Y(this.a,new N(3)):Y(this.a,new N(4))};
h.S=function(a){(a=wk.get(a))&&X(this.a,a)};var xk=function(a,b,c,d,e){var f=J(),g=new Xi(b,c,d,e),l=function(b){return b.Y.getState().eurekaInfoState.ssdpUdn===a},p=function(a){(a=yb(a.devices,l))&&f.b(a.ipAddress)};g.listen("devices",p);var q=null;g.start().then(function(){q=setInterval(function(){Qg(g.h);g.W()},5E3)});var C=setTimeout(f.c.bind(f),18E4);return K(f.a,function(){clearTimeout(C);clearInterval(q);g.B("devices",p);g.stop()})};var yk=function(a){V.call(this,a,this.i.bind(this),null);this.c=null;this.l=0;this.f=null;this.h=0};u(yk,V);yk.prototype.i=function(){var a=this;X(a.a,30);return S(this.b,Yj(this.a)).then(function(b){a.c=b;W(a).sendMessage(new v("OtaUpdate.Pending"));zk(a,0)})};
var zk=function(a,b){L(S(a.b,T(b)).then(function(){++a.l;return S(a.b,oi(a.c,{options:["ota_status","setup.setup_state"]}))}).then(function(b){var d=ui(a.c),e=0;7<=a.c.a&&(e=b.ota_status.download_progress);if(a.f!==d.setupState||e!==a.h)a.f=d.setupState,a.h=e,60===a.f&&a.g();zk(a,3E3)}),function(b){Af(b);b=a.c.getState().eurekaInfoState.ssdpUdn;var d=a.a.a;S(a.b,xk(b,d.b,d.i,d.g,d.window)).then(a.g.bind(a),a.j.bind(a))})};
yk.prototype.g=function(){X(this.a,31);var a=W(this);S(this.b,vg(a,"OtaUpdate.Proceed")).then(function(){pk(this.a)}.bind(this));a.sendMessage(new v("OtaUpdate.Done"))};yk.prototype.j=function(){};var Ak=function(a,b,c){this.f=new R(this.m.bind(this),this.l.bind(this));this.a=a;this.j=b;this.b=c;this.c=null;this.i=new P;b.a.a.addListener("RestartSetup",this.o.bind(this));b.a.a.addListener("GoToDeviceList",this.a.f.bind(this.a))},Bk=function(a){O.call(this,"newState");this.state=a};u(Bk,O);Ak.prototype.start=function(){return this.f.start()};Ak.prototype.stop=function(){return this.f.stop()};
var pk=function(a){var b=Z(a),c=a.b.setupApiClientState||null,d=c.deviceIpAddress,c=c.eurekaInfoState;X(a,b.device&&b.device.bssid?25:28);b=new Ig("deviceJustSetUp");b.deviceJustSetUp=new Jg(d,c.name,c.ssdpUdn,c.modelName);a.a.l.setItem("showDeviceBanner",d);Je(a.a.a,a.b);K(S(a.f,Bf(a.a.i.sendMessage(b),1E4)),function(){K(a.stop(),function(){a.a.f()})})},Yj=function(a){var b={read:function(){return a.b.setupApiClientState||null},write:a.h.bind(a)};return qi(a.a.g,b,a.a.h())};
Ak.prototype.h=function(a){a?this.b.setupApiClientState=a:delete this.b.setupApiClientState;Ie(this.a.a,this.b)};
var Z=function(a){return a.b.commonState||new ze},mk=function(a,b){b?a.b.commonState=b:delete a.b.commonState;Ie(a.a.a,a.b)},Y=function(a,b){a.c.stop().then(function(){if(a.b.states){var c=a.b.states;c.all=c.all.slice(0,c.current+1);c.all.push(b);c.current=c.all.length-1}else a.b.states=new Ee(0,[b]);Ie(a.a.a,a.b);a.c=a.a.j(a,b.type);Q(a.i,new Bk(b.type));L(S(a.f,a.c.start()),function(b){if(b instanceof M)switch(a.f.getState()){case "starting":case "started":a.g()}else a.g()})})};
Ak.prototype.g=function(){Je(this.a.a,this.b);this.j.a.a.sendMessage(new v("ShowGenericSetupError"));L(this.stop(),n)};var X=function(a,b){a.a.c.b(b)};
Ak.prototype.m=function(){var a=this.b.states.all[this.b.states.current].type;this.c=this.a.j(this,a);Q(this.i,new Bk(a));null===this.a.a.getItem("setupNoCountryDetection")&&(a=Z(this),a.country||a.connectedHotSpotBssid||S(this.f,this.j.a.a.sendRequest(new mb)).then(function(a){var c=Z(this);c.country||(c.country=a.countryCode,mk(this,c))}.bind(this)));return this.c.start()};Ak.prototype.l=function(){var a=this.c;this.c=null;Q(this.i,new Bk(null));return a.stop()};
Ak.prototype.o=function(){Je(this.a.a,this.b);this.a.m()};var Ck=function(a){V.call(this,a,this.C.bind(this),this.A.bind(this));this.c=1;this.h=this.g=null;this.f=new A;this.i=new A;this.j=null;this.s=this.K.bind(this);this.l=this.w.bind(this)};u(Ck,V);
Ck.prototype.C=function(){var a=this;Dk(a,1);W(a).addListener("SetupStart.Proceed",a.s);var b=[];b.push(S(a.b,this.a.a.c.a()).then(function(b){a.j=b}));var c=Z(a.a);c.device&&!c.pinned&&(c.device=void 0,mk(a.a,c));var d=a.a.a;a.h=new Xi(d.b,d.i,d.g,d.window);d=a.h.c.a;d.listen("added",a.m,!0,a);d.listen("connected",a.o,!0,a);a.h.listen("devices",this.l);b.push(S(a.b,a.h.start()));sg(a.b).then(function(){c.pinned&&c.device?(a.g=c.device,Dk(a,4),Ek(a)):a.i.H()?Zb(a.f,function(b){if("NotConnected"===
b.ConnectionState)return!0;Gk(a,b);return!1})&&(Dk(a,2),Ek(a),S(a.b,T(5E3)).then(a.J.bind(a))):Fk(a,a.i.P(!1).next())});return td(b)};Ck.prototype.A=function(){this.c=1;this.g=null;this.f=new A;this.i=new A;this.j=null;W(this).removeListener("SetupStart.Proceed",this.s);if(!this.h)return H();var a=this.h;this.h=null;var b=a.c.a;b.B("added",this.m,!0,this);b.B("connected",this.o,!0,this);a.B("devices",this.l);return a.stop()};
var Dk=function(a,b){b!==a.c&&(a.c=b)},Ek=function(a){var b=W(a);switch(a.c){case 1:case 2:b.sendMessage(new Fa(!1));break;case 3:b.sendMessage(new Fa(!0));break;case 4:Hk(a,1);break;case 5:Hk(a,2);break;case 6:Hk(a,3);break;case 7:Hk(a,4)}},Hk=function(a,b){var c=Zf(a.g.type);b=new Ha(b,c,a.g.name);b.otherDevicesExist=1<a.f.u()+a.i.u();b.analyticsOptIn=3!==a.j;W(a).sendMessage(b)};
Ck.prototype.J=function(){if(2===this.c)if(0===this.f.u())Dk(this,3),Ek(this);else{var a=Yb(this.f,function(a,c){return"NotConnected"!==c.ConnectionState?c:(c.WiFi&&c.WiFi.SignalStrength||-Infinity)<(a&&a.WiFi&&a.WiFi.SignalStrength||-Infinity)?a:c});Gk(this,a)}};
var Gk=function(a,b){b=b&&b.WiFi;var c=b.SSID,d=Uf(c);a.g=new Ae({name:d.name,type:d.type,ssid:c,bssid:b.BSSID});Dk(a,4);Ek(a)},Fk=function(a,b){var c=b.Y.getState().eurekaInfoState;a.g=new Ae({name:c.name,type:c.deviceType,ipAddress:b.ipAddress});Dk(a,4);Ek(a)};Ck.prototype.m=function(a){a=a.a;var b=!bc(this.f,a.GUID);this.f.set(a.GUID,a);4===this.c?b&&Ek(this):3===this.c&&Gk(this,a)};Ck.prototype.o=function(a){2!==this.c&&3!==this.c||Gk(this,a.a)};
Ck.prototype.w=function(a){var b=this,c=null;a.devices.filter(function(a){a=a.Y.getState().eurekaInfoState;return a.features.supportsSetup&&a.ethernetConnected&&!a.tosAccepted}).forEach(function(a){bc(b.i,a.ipAddress)||(b.i.set(a.ipAddress,a),c=c||a)});c&&(2===b.c||3===b.c?Fk(b,c):4===b.c&&Ek(b))};
Ck.prototype.K=function(){var a=this;4!==a.c&&7!==a.c||Ik(a).then(function(){var b=Z(a.a);b.device=a.g;mk(a.a,b);if(b.device.bssid)X(a.a,3),Y(a.a,new N(2));else{X(a.a,27);Dk(a,6);Ek(a);var c=a.a.a;L(S(a.b,qi(c.g,ni(b.device.ipAddress),c.h())).then(function(b){a.a.h(b.getState());X(a.a,27);Y(a.a,new N(5))}),function(){Dk(a,7);Ek(a)})}})};
var Ik=function(a){var b=a.a.a.a;if(null!==b.getItem("setupTosAccepted"))return H();var c=a.a.a.c,d=S(a.b,vg(W(a),"SetupStart.TosAccepted")).then(function(a){c.h(a.analyticsOptIn);b.setItem("setupTosAccepted","")}.bind(a));Dk(a,5);Ek(a);return d};var Kk=function(a){this.f=a;this.b=new P;this.networks=new A;this.c=!1;this.a=new R(function(){Jk(this);return H()}.bind(this),function(){this.networks.clear();this.c=!1;return H()}.bind(this))},Nk=function(a){this.id=Lk(a);this.ssid=a.ssid;this.Ma=a.wpa_auth;this.Na=a.wpa_cipher;this.Oa=a.wpa_id;this.ma=new B;this.$=a.signal_level;this.Ga=this.ka=!1;Mk(this,a)},Mk=function(a,b){ec(a.ma,b.bssid);a.$=Math.max(a.$,b.signal_level);b.ap_list&&b.ap_list.forEach(function(a){ec(this.ma,a.bssid);this.$=Math.max(this.$,
a.signal_level);this.ka=this.ka||5E3<=a.frequency}.bind(a))},Ok=function(){O.call(this,"error")};u(Ok,O);var Pk=function(){this.networks=new A;this.a=0;this.N=J()},Lk=function(a){return a.wpa_id?a.wpa_id.toString():a.ssid+":"+a.wpa_auth+":"+a.wpa_cipher};Kk.prototype.start=function(){return this.a.start()};Kk.prototype.stop=function(){return this.a.stop()};
var Jk=function(a){L(S(a.a,Bi(a.f)).then(function(){S(a.a,T(3E3))}).then(function(){var b=new Pk;a.g(b);return b.N.a}).then(a.h.bind(a)).then(function(){return S(a.a,T(1E3))}).then(function(){Jk(a)}),function(b){Af(b);Q(a.b,new Ok);a.stop()})};Kk.prototype.g=function(a){L(S(this.a,Ai(this.f)).then(this.i.bind(this,a)).then(function(){3===a.a?a.N.b(a.networks):S(this.a,T(2E3)).then(this.g.bind(this,a))}.bind(this)),function(b){a.N.c(b)})};
Kk.prototype.i=function(a,b){var c=!1,d=!1;b.filter(function(a){return 1!==a.wpa_auth?!0:!Tf(a.bssid)}).forEach(function(b){var f=Lk(b),g=a.networks.get(f);g?Mk(g,b):(g=new Nk(b),a.networks.set(f,g),c=!0,bc(this.networks,f)||(this.networks.set(f,g),d=!0))}.bind(this));a.a=c?0:a.a+1;if(d||!this.c)Q(this.b,new O("networksAdded")),this.c=!0};
Kk.prototype.h=function(a){a.forEach(function(a){a.Ga=!0});Xb(gc(new B(this.networks.D()),a.D()),function(b){var c=this.networks.get(b);c.$=-Infinity;a.set(b,c)}.bind(this));this.networks=a;Q(this.b,new O("scanCompleted"))};var Qk=function(a){V.call(this,a,this.w.bind(this),this.s.bind(this));this.h=this.f=this.c=this.g=null;this.o=this.i.bind(this);this.j=this.A.bind(this);this.m=this.C.bind(this)};u(Qk,V);
Qk.prototype.w=function(){var a=this;return S(a.b,Yj(a.a)).then(function(b){a.g=b;var c=null;b=W(a);c=Z(a.a);a.f=c.connectWiFi||null;if(a.f){var d=dg(a.f);delete c.connectWiFi;mk(a.a,c);2===a.f.b?c=a.i():(b.addListener("WiFiConfig.ErrorAck",a.o),c=H());Rk(a,d)}else c=a.i(),S(a.b,T(7E3)).then(function(){a.h||Rk(a,new Xa(1,[],null))});b.addListener("WiFiConfig.Retry",a.m);return c})};
Qk.prototype.i=function(){if(this.c)return H();this.c=new Kk(this.g);this.c.b.listen("networksAdded",this.l,!0,this);W(this).addListener("WiFiConfig.Connect",this.j);Sk(this);return this.c.start()};Qk.prototype.s=function(){this.h=this.g=null;var a=W(this);a.removeListener("WiFiConfig.Connect",this.j);a.removeListener("WiFiConfig.Retry",this.m);a.removeListener("WiFiConfig.ErrorAck",this.o);return this.c?(this.c.b.B("networksAdded",this.l,!0,this),a=this.c,this.c=null,a.stop()):H()};
var Rk=function(a,b){a.h=b;W(a).sendMessage(b)};Qk.prototype.l=function(){if(this.h)W(this).sendMessage(new Ya(this.c.networks.v().map(function(a){return new Wa(a.id,a.ssid,$f(a.Ma))})));else{var a=Z(this.a),b=a.originalWiFiNetwork&&a.originalWiFiNetwork.bssid,c=[],d=null;Xb(this.c.networks,function(a){var f=new Wa(a.id,a.ssid,$f(a.Ma));c.push(f);b&&a.ma.contains(b)&&(d=f)});Rk(this,new Xa(1,c,d))}};
Qk.prototype.A=function(a){var b=this,c=Tk(b,a);S(b.b,new G(function(d){a.password?d(Uk(b,a.password).then(function(a){c.a.enc_passwd=a})):d()})).then(function(){return S(b.b,Vk(b,c))}).then(function(d){d?(b.f=c,Rk(b,new Xa(5,b.h.networks,a.network))):(d=Z(b.a),d.connectWiFi=c,mk(b.a,d),L(wi(b.g,c.a),n),X(b.a,15),Y(b.a,new N(7)))})};
var Tk=function(a,b){var c=new Ce(new Zd(b.network.ssid,ag(b.network.security)));b.network.id&&(c.c=b.network.id,a.c&&bc(a.c.networks,b.network.id)?(a=a.c.networks.get(b.network.id),a.Na&&(c.a.wpa_cipher=a.Na),a.Oa&&(c.a.wpa_id=a.Oa)):a.f&&a.f.c===b.network.id&&(a=a.f.a,a.wpa_cipher&&(c.a.wpa_cipher=a.wpa_cipher),a.wpa_id&&(c.a.wpa_id=a.wpa_id)));return c},Vk=function(a,b){var c=Z(a.a);if("m"!==(c.device&&c.device.type))return H(!1);var d=b.c;if(!d)return H(!1);if(b=a.c.networks.get(d)){if(b.ka)return H(!1);
if(b.Ga)return H(!0)}return zf(a.c.b,"scanCompleted").then(function(){var b=a.c.networks.get(d);return b&&!b.ka})};Qk.prototype.C=function(){var a=Z(this.a);a.connectWiFi=this.f;mk(this.a,a);L(wi(this.g,a.connectWiFi.a),n);X(this.a,15);Y(this.a,new N(7))};
var Uk=function(a,b){var c=a.g.getState().verificationState.verificationProperties;return a.a.a.b.verifyAndEncryptData(c,b)},Sk=function(a){var b=Z(a.a),c=a.g.a;if(!(4>c)){var b=b.country,d=null;7>c?(c=new we,c.location=new fe,c.location.country_code=b,d=c):(c=new xe,c.settings=new me,c.settings.country_code=b,d=c);L(S(a.b,Ci(a.g,d)),function(){})}};var Wk=function(a){var b=Z(a).connectWiFi,c=Me(a.a.a);z("Macintosh")&&1!==b.a.wpa_auth&&(c=!1);rk.call(this,a,b.a.ssid,null,c);this.f=null};u(Wk,rk);var Xk=new A(1,20,2,21,3,22,4,23,5,24);Wk.prototype.m=function(){this.f=null;return Wk.I.m.call(this)};var Yk=function(a){return a.f?H(a.f):S(a.b,Yj(a.a)).then(function(b){a.f=ui(b).connectedIpAddress;return a.f})};h=Wk.prototype;h.ya=function(){var a=this;return Yk(a).then(function(b){return S(a.b,qi(a.a.a.g,ni(b)))})};
h.Z=function(a){var b=Z(this.a),c=b.connectWiFi;a=2===a||3===a?1:void 0;c.b!==a&&(c.b=a,mk(this.a,b));W(this).sendMessage(dg(c))};h.O=function(a){W(this).sendMessage(new La(a,Z(this.a).connectWiFi.a.ssid))};h.za=function(a){this.a.h(a.getState());Y(this.a,new N(9))};h.S=function(a){(a=Xk.get(a))&&X(this.a,a)};var Uj=function(a,b){switch(b){case 1:return new Ck(a);case 2:return new vk(a);case 3:return new Zj(a);case 4:return new Xj(a);case 5:return new ok(a);case 6:return new Qk(a);case 7:return new fk(a);case 8:return new Wk(a);case 9:return new qk(a);case 10:return new yk(a);default:return new V(a,null,null)}};var Zk=null;t("castApp.app.setupManager",Zk);var $k={Bb:"devices",Cb:"offers",Db:"setup"},al=function(a){if(!a||"#"==a)return{};a.startsWith("#")&&(a=a.slice(1));var b=a.split("/");if(!(0<=ub(Lb($k),b[0])))return{};a={R:b[0]};if(b[1])switch(a.R){case "devices":b=decodeURIComponent(b[1]);Uc(b)&&(a.ipAddress=b);break;case "setup":a.ta=b[1]}return a};window.addEventListener("hashchange",function(a){var b=Ud(a.oldURL).g;a=Ud(a.newURL).g;al(b).R!==al(a).R&&location.reload()});
var Vj=function(){window.location.hash="devices"},bl=function(a){window.location.hash="setup/"+a},cl=function(a){window.location.hash="devices/"+encodeURIComponent(a)},dl=function(a){mc&&(window.location="https://chromecast.com/setup");var b=chrome.metricsPrivate?new Qe(window.localStorage):new Pe,c=chrome.networkingPrivate?kg.fa():null,d=new Wj(window,c,new ki,b),e=new Pj(window,a),f=function(){var a=al(window.location.hash);if("setup"===a.R){var b=null;if(a.ta){if(Zk&&Zk.b.id===a.ta)return;b=yb(Ge(d.a),
function(b){return b.id===a.ta})}b||(b=new ye(ra()),b.states=new Ee(0,[new N(1)]),Ie(d.a,b),window.history.replaceState(null,"","#setup/"+b.id));Zk&&Zk.stop();Zk=new Ak(d,e,b);Zk.start()}};e.start().then(function(){f();window.addEventListener("hashchange",f)})},el=function(a){var b=new Pj(window,a),c=chrome.networkingPrivate?kg.fa():null;chrome.dial&&Dj.fa();var d=new Mg,e=new ki,f=new Eg(window,b,e,bl,Vj,cl,window.location.reload.bind(window.location),new ig,a,chrome.i18n.getUILanguage,new Xi(c,
d,e,window)),g=null,l=null,p=function(a){if(!l||l.i!==a){var b=g&&g.stop()||l&&l.stop()||H();g=null;var c=l=new zj(f,a);b.then(function(){l===c&&L(l.start(),Vj)})}},q=function(){if(!g){var a=l&&l.stop()||H(),b=g=new pj(f);l=null;a.then(function(){b===g&&g.start()})}},C=function(){var a=al(location.hash);"devices"===a.R&&(a.ipAddress?p(a.ipAddress):q())};b.start().then(function(){C();window.addEventListener("hashchange",C)})},fl=function(a){var b=new Pj(window,a);a=chrome.dial?Dj.fa():null;var c=chrome.metricsPrivate?
new Qe(window.localStorage):new Pe,d=new Sj(window,b,a,new ki,c);b.start().then(function(){var a=b.a.a,c=new A;a.addListener("Offers.Scan",function(a){var b=a.scanId;bc(c,b)||(a=new Tj(d,b),c.set(b,a),zf(a.c.c,"stopped").then(function(){c.remove(b)}),a.start())});a.addListener("Offers.Redeem",function(a){window.location=a.url});a.addListener("Offers.AnalyticsEvent",function(a){d.c.f(a)});a.sendMessage(new v("Offers.Show"))})};
window.addEventListener("load",function(){var a=new Bg(window);wf(a.f,function(){window.location="https://chromecast.com"});yg||(yg=!0);He();switch(al(location.hash).R){case "devices":el(a);break;case "offers":fl(a);break;case "setup":dl(a);break;default:Vj()}});
